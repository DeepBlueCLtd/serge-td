{"version":3,"sources":["../../node_modules/brace/mode sync /^/.*$","../../node_modules/brace/theme sync /^/.*$","components/homepage/styles.js","actions/messages.js","actions/chats.js","actions/rewindPoints.js","defaults/messageTypesKeys.js","databases/index.js","defaults/allowedChats.js","components/control/rewindForm.js","components/control/styles.js","components/control/rewindList.js","containers/rewinds.js","components/control/index.js","containers/control.js","components/chatlist/styles.js","components/chat/messages/styles.js","defaults/schemeColors/theme.js","defaults/schemeColors/scheme.js","defaults/schemeColors/messageScheme.js","components/chat/messages/index.js","containers/messages.js","defaults/schemeColors/chatScheme.js","databases/views.js","databases/filters.js","components/chat/styles.js","components/chat/header.js","containers/chat/header.js","components/chat/form.js","components/chat/footer.js","containers/chat/footer.js","components/chat/index.js","containers/chat/index.js","defaults/schemeSizes.js","components/chatlist/index.js","containers/chatlist.js","components/homepage/index.js","components/jsonSchemaEditor/styles.js","js-modules/json-schema-editor/editor.js","components/jsonSchemaEditor/jsonEditor.js","components/jsonSchemaEditor/editorPreview.js","components/jsonSchemaEditor/metaSchema.js","defaults/jsonEditor.js","components/jsonSchemaEditor/options.js","components/devSection/index.js","components/jsonSchemaEditor/index.js","components/checkDb.js","components/pouchStore/index.js","containers/pouchStore.js","actions/init.js","components/root.js","serviceWorker.js","reducers/chats.js","defaults/messageTypes.js","reducers/messageTypes.js","reducers/messages.js","reducers/rewindPoints.js","reducers/index.js","middlewares/pouchdb/rewindPoints.js","middlewares/pouchdb/index.js","index.js"],"names":["map","./abap","./abap.js","./abc","./abc.js","./actionscript","./actionscript.js","./ada","./ada.js","./apache_conf","./apache_conf.js","./applescript","./applescript.js","./asciidoc","./asciidoc.js","./assembly_x86","./assembly_x86.js","./autohotkey","./autohotkey.js","./batchfile","./batchfile.js","./bro","./bro.js","./c9search","./c9search.js","./c_cpp","./c_cpp.js","./cirru","./cirru.js","./clojure","./clojure.js","./cobol","./cobol.js","./coffee","./coffee.js","./coldfusion","./coldfusion.js","./csharp","./csharp.js","./csound_document","./csound_document.js","./csound_orchestra","./csound_orchestra.js","./csound_score","./csound_score.js","./css","./css.js","./curly","./curly.js","./d","./d.js","./dart","./dart.js","./diff","./diff.js","./django","./django.js","./dockerfile","./dockerfile.js","./dot","./dot.js","./drools","./drools.js","./eiffel","./eiffel.js","./ejs","./ejs.js","./elixir","./elixir.js","./elm","./elm.js","./erlang","./erlang.js","./forth","./forth.js","./fortran","./fortran.js","./ftl","./ftl.js","./gcode","./gcode.js","./gherkin","./gherkin.js","./gitignore","./gitignore.js","./glsl","./glsl.js","./gobstones","./gobstones.js","./golang","./golang.js","./graphqlschema","./graphqlschema.js","./groovy","./groovy.js","./haml","./haml.js","./handlebars","./handlebars.js","./haskell","./haskell.js","./haskell_cabal","./haskell_cabal.js","./haxe","./haxe.js","./hjson","./hjson.js","./html","./html.js","./html_elixir","./html_elixir.js","./html_ruby","./html_ruby.js","./ini","./ini.js","./io","./io.js","./jack","./jack.js","./jade","./jade.js","./java","./java.js","./javascript","./javascript.js","./json","./json.js","./jsoniq","./jsoniq.js","./jsp","./jsp.js","./jssm","./jssm.js","./jsx","./jsx.js","./julia","./julia.js","./kotlin","./kotlin.js","./latex","./latex.js","./lean","./lean.js","./less","./less.js","./liquid","./liquid.js","./lisp","./lisp.js","./live_script","./live_script.js","./livescript","./livescript.js","./logiql","./logiql.js","./lsl","./lsl.js","./lua","./lua.js","./luapage","./luapage.js","./lucene","./lucene.js","./makefile","./makefile.js","./markdown","./markdown.js","./mask","./mask.js","./matlab","./matlab.js","./mavens_mate_log","./mavens_mate_log.js","./maze","./maze.js","./mel","./mel.js","./mips_assembler","./mips_assembler.js","./mipsassembler","./mipsassembler.js","./mushcode","./mushcode.js","./mysql","./mysql.js","./nix","./nix.js","./nsis","./nsis.js","./objectivec","./objectivec.js","./ocaml","./ocaml.js","./pascal","./pascal.js","./perl","./perl.js","./pgsql","./pgsql.js","./php","./php.js","./pig","./pig.js","./plain_text","./plain_text.js","./powershell","./powershell.js","./praat","./praat.js","./prolog","./prolog.js","./properties","./properties.js","./protobuf","./protobuf.js","./python","./python.js","./r","./r.js","./razor","./razor.js","./rdoc","./rdoc.js","./red","./red.js","./rhtml","./rhtml.js","./rst","./rst.js","./ruby","./ruby.js","./rust","./rust.js","./sass","./sass.js","./scad","./scad.js","./scala","./scala.js","./scheme","./scheme.js","./scss","./scss.js","./sh","./sh.js","./sjs","./sjs.js","./smarty","./smarty.js","./snippets","./snippets.js","./soy_template","./soy_template.js","./space","./space.js","./sparql","./sparql.js","./sql","./sql.js","./sqlserver","./sqlserver.js","./stylus","./stylus.js","./svg","./svg.js","./swift","./swift.js","./swig","./swig.js","./tcl","./tcl.js","./tex","./tex.js","./text","./text.js","./textile","./textile.js","./toml","./toml.js","./tsx","./tsx.js","./turtle","./turtle.js","./twig","./twig.js","./typescript","./typescript.js","./vala","./vala.js","./vbscript","./vbscript.js","./velocity","./velocity.js","./verilog","./verilog.js","./vhdl","./vhdl.js","./wollok","./wollok.js","./xml","./xml.js","./xquery","./xquery.js","./yaml","./yaml.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","./ambiance","./ambiance.js","./chaos","./chaos.js","./chrome","./chrome.js","./clouds","./clouds.js","./clouds_midnight","./clouds_midnight.js","./cobalt","./cobalt.js","./crimson_editor","./crimson_editor.js","./dawn","./dawn.js","./dracula","./dracula.js","./dreamweaver","./dreamweaver.js","./eclipse","./eclipse.js","./github","./github.js","./gob","./gob.js","./gruvbox","./gruvbox.js","./idle_fingers","./idle_fingers.js","./iplastic","./iplastic.js","./katzenmilch","./katzenmilch.js","./kr_theme","./kr_theme.js","./kuroir","./kuroir.js","./merbivore","./merbivore.js","./merbivore_soft","./merbivore_soft.js","./mono_industrial","./mono_industrial.js","./monokai","./monokai.js","./pastel_on_dark","./pastel_on_dark.js","./solarized_dark","./solarized_dark.js","./solarized_light","./solarized_light.js","./terminal","./terminal.js","./textmate","./textmate.js","./tomorrow","./tomorrow.js","./tomorrow_night","./tomorrow_night.js","./tomorrow_night_blue","./tomorrow_night_blue.js","./tomorrow_night_bright","./tomorrow_night_bright.js","./tomorrow_night_eighties","./tomorrow_night_eighties.js","./twilight","./twilight.js","./vibrant_ink","./vibrant_ink.js","./xcode","./xcode.js","StyleSheet","create","main","padding","PUSH_MESSAGES","REMOVE_ALL_MESSAGES","UPDATE_MESSAGES","SAVE_DRAFT","SEND_DRAFT_MESSAGE","saveDraft","draftMessage","type","payload","message","ADD_CHAT","REMOVE_CHAT","CREATE_REWIND_POINT","REMOVE_REWIND_POINT","SELECT_REWIND_POINT","UPDATE_REWIND_POINTS","options","showOnGameControl","chatAddBtnSettings","defaultOptions","showOnGameControlCreateChats","addChatIdToChatFromArray","addChatIdToChatToArray","preFillFrom","chats","chatId","label","objectSpread","getGameControlChats","filter","chat","RewindForm","_ref","createRewindPoint","input","React","createRef","react_default","a","createElement","CardFooter","onSubmit","preventDefault","current","value","length","InputGroup","Input","innerRef","placeholder","InputGroupAddon","addonType","Button","color","hide","display","createMessage","createMessageShow","RewindList","rewinds","selectRewindPoint","removeRewindPoint","CardBody","className","css","styles","ListGroup","_ref2","key","doc","ListGroupItem","tag","active","onClick","_id","name","RewindsContainer","connect","state","rewindPoints","points","activeRewind","dispatch","ChatControll","props","content","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","newMessageForm","bind","assertThisInitialized","closeMessageForm","injectForm","generateMessages","editor","editorRef","activeSchema","createChats","count","_this2","createMessages","Array","apply","messageType","messageTypes","Math","floor","random","required","reduce","field","enumArr","properties","enum","isArray","format","toString","loremIpsum","default","target","destroy","setState","schema","from","sort","x","y","JSONEditor","theme","validate","getValue","_this3","Row","Col","md","Card","CardHeader","parseInt","title","includes","removeChat","createChat","rewindForm","containers_rewinds","block","clearMessages","ref","Component","ControlContainer","scheme","messages","pointName","database","db","Control","chatItem","paddingBottom","height","position","paddingTop",":after","width","top","background","left",":before","bottom","zIndex","container","maxHeight","item","verticalAligin","maxWidth","scrolContent","badge","fontSize","lineHeight","borderRadius","overflow","opacity",":hover","badgeLeft","badgeBg","scrollbar","boxSizing","margin","bg","blue","gray","green","red","yellow","black","white","lightBlue","lightGray","lightBlack","buttons","transparent","text","ColorScheme","itemId","items","itemDefault","global","getItemScheme","getGlobalScheme","MessageScheme","ChatMessages","timeId","loadTimeId","loading","scrolledDown","loadMoreCount","getScrollHeight","onScrollUp","onYReachStart","onYReachEnd","scrollToDown","firstScrolled","showItemsCount","clearTimeout","setTimeout","currentHeigth","_container","scrollTop","scrollHeight","newItemsCount","fromChat","colorScheme","MessageColorScheme","itemStyles","textAlign","style","classNames","charAt","_this4","lib_default","suppressScrollX","contentClassName","slice","max","msg","renderItem","MessagesContainer","Messages","ChatScheme","btn","body","footer","light","tab","activeTab","cn","require","dbOptions","getDb","dbKey","sync","optionsManual","PouchDB","optLoc","remote","remoteDB","replicate","to","live","retry","on","done","console","log","forEach","concat","views","query","view","params","namespace","split","catch","err","status","put","then","cloneFilter","filters","prefix","right","labelContainer","labelButton","paddingRight","paddingLeft","ChatHeader","button","children","defaultMessageType","createDraft","defaultValues","HeaderContainer","find","Header","ChatForm","initForm","submitForm","getFormFilteredData","editorBox","hiddenAutofillKeys","setValue","form","values","formFiltered","toConsumableArray","messageFiltered","requiredKey","indexOf","splice","formData","_loop","editors","hasOwnProperty","watch","data","defineProperty","replace","getEditor","sendDraftMessage","ChatFooter","renderDropdown","toggle","toggleDropdown","renderTabs","showDropdownAfter","activeDraft","dropdownOpen","Dropdown","isOpen","DropdownToggle","caret","DropdownMenu","DropdownItem","Nav","tabs","NavItem","NavLink","TabContent","TabPane","tabId","chat_form","FooterContainer","draft","Footer","Chat","updateState","f","changeTimer","include_docs","rows","updateMessages","changeTime","initDatabase","dbName","changes","ChatColorScheme","getScheme","isActiveRewind","local","newDb","cancel","since","chat_header","containers_messages","chat_footer","ChatContainer","point","Chatlist","xs","chatSizes","sm","containers_chat","ChatsContainer","stage","Chats","Homepage","Container","fluid","containers_chatlist","containers_control","devSection","Editor","elementId","jsonEditor","renderZone","document","getElementById","PreviewEditor","SchemaEditor","isObjectPropertiesButton","node","matches","span","parentElement","querySelector","innerText","observer","MutationObserver","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","addedNodes","nodeType","icon","classList","remove","add","return","observe","childList","subtree","prototype","updateSchema","getJSON","enumerable","writable","no_additional_properties","custom_validators","path","errors","minimum","maximum","push","property","root","getButton","button_holder","getHeaderButtonHolder","appendChild","header","parentNode","insertBefore","nextSibling","addEventListener","contents","blob","Blob","JSON","stringify","window","navigator","msSaveOrOpenBlob","download","href","URL","createObjectURL","dataset","downloadurl","join","dispatchEvent","MouseEvent","bubbles","cancelable","JsonSchemaEditor","schemaEditor","onChange","updateEditor","saved","defaultValue","newValue","alert","newJson","save","counter","defaults","object_layout","layout","booleanOptions","EditorPreview","previewBox","editorPreview","MetaSchema","setEditorValue","onUpdateClick","saveJson","json","session","getSelection","clearSelection","resize","onSchemaSubmit","dist_default","mode","setReadOnly","selected","onBooleanOptionsChange","onLayoutChange","i","l","multiple","size","option","DevSection","process","MessageTypes","iconlib","updateMetaSchema","updatePreviewSchema","updateOptions","Date","Status","Description","metaSchema","jsonMetaSchema","previewSchema","metaschema","jsonSchemaEditor_options","CheckDb","check","messagesFiltersInitialized","messagesViewsInitialized","checkMessages","checkFilter","checkView","filterKeys","currentKey","docId","get","row","equal","viewKeys","PouchStore","initStore","PouchStoreContainer","Root","store","es","containers_pouchStore","checkDb","BrowserRouter","Switch","Route","exact","component","Boolean","location","hostname","match","initialState","persistentReducer","arguments","action","description","weight","prop","getMessageTypes","getId","toISOString","initAdditionalAttributes","bulkDocs","allDocs","result","Promise","all","search","rev","_rev","_deleted","combineReducers","cloneDatabase","reject","messagesDbName","messagesRemoteDbName","doneRemote","init","updateLocalRewindPoints","rewindPoint","roomId","messagesDb","clonedData","changedDocs","rewindPointsDb","pouchdbMiddleware","applyMiddlewares","applyMiddleware","thunk","pouchdbSync","composeWithDevTools","persistentStore","createStore","createStoreWithMiddleware","reducers","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.90c6c0b6.chunk.js","sourcesContent":["var map = {\n\t\"./abap\": 71,\n\t\"./abap.js\": 71,\n\t\"./abc\": 72,\n\t\"./abc.js\": 72,\n\t\"./actionscript\": 73,\n\t\"./actionscript.js\": 73,\n\t\"./ada\": 74,\n\t\"./ada.js\": 74,\n\t\"./apache_conf\": 75,\n\t\"./apache_conf.js\": 75,\n\t\"./applescript\": 76,\n\t\"./applescript.js\": 76,\n\t\"./asciidoc\": 77,\n\t\"./asciidoc.js\": 77,\n\t\"./assembly_x86\": 78,\n\t\"./assembly_x86.js\": 78,\n\t\"./autohotkey\": 79,\n\t\"./autohotkey.js\": 79,\n\t\"./batchfile\": 80,\n\t\"./batchfile.js\": 80,\n\t\"./bro\": 81,\n\t\"./bro.js\": 81,\n\t\"./c9search\": 82,\n\t\"./c9search.js\": 82,\n\t\"./c_cpp\": 83,\n\t\"./c_cpp.js\": 83,\n\t\"./cirru\": 84,\n\t\"./cirru.js\": 84,\n\t\"./clojure\": 85,\n\t\"./clojure.js\": 85,\n\t\"./cobol\": 86,\n\t\"./cobol.js\": 86,\n\t\"./coffee\": 87,\n\t\"./coffee.js\": 87,\n\t\"./coldfusion\": 88,\n\t\"./coldfusion.js\": 88,\n\t\"./csharp\": 89,\n\t\"./csharp.js\": 89,\n\t\"./csound_document\": 90,\n\t\"./csound_document.js\": 90,\n\t\"./csound_orchestra\": 91,\n\t\"./csound_orchestra.js\": 91,\n\t\"./csound_score\": 92,\n\t\"./csound_score.js\": 92,\n\t\"./css\": 93,\n\t\"./css.js\": 93,\n\t\"./curly\": 94,\n\t\"./curly.js\": 94,\n\t\"./d\": 95,\n\t\"./d.js\": 95,\n\t\"./dart\": 96,\n\t\"./dart.js\": 96,\n\t\"./diff\": 97,\n\t\"./diff.js\": 97,\n\t\"./django\": 98,\n\t\"./django.js\": 98,\n\t\"./dockerfile\": 99,\n\t\"./dockerfile.js\": 99,\n\t\"./dot\": 100,\n\t\"./dot.js\": 100,\n\t\"./drools\": 101,\n\t\"./drools.js\": 101,\n\t\"./eiffel\": 102,\n\t\"./eiffel.js\": 102,\n\t\"./ejs\": 103,\n\t\"./ejs.js\": 103,\n\t\"./elixir\": 104,\n\t\"./elixir.js\": 104,\n\t\"./elm\": 105,\n\t\"./elm.js\": 105,\n\t\"./erlang\": 106,\n\t\"./erlang.js\": 106,\n\t\"./forth\": 107,\n\t\"./forth.js\": 107,\n\t\"./fortran\": 108,\n\t\"./fortran.js\": 108,\n\t\"./ftl\": 109,\n\t\"./ftl.js\": 109,\n\t\"./gcode\": 110,\n\t\"./gcode.js\": 110,\n\t\"./gherkin\": 111,\n\t\"./gherkin.js\": 111,\n\t\"./gitignore\": 112,\n\t\"./gitignore.js\": 112,\n\t\"./glsl\": 113,\n\t\"./glsl.js\": 113,\n\t\"./gobstones\": 114,\n\t\"./gobstones.js\": 114,\n\t\"./golang\": 115,\n\t\"./golang.js\": 115,\n\t\"./graphqlschema\": 116,\n\t\"./graphqlschema.js\": 116,\n\t\"./groovy\": 117,\n\t\"./groovy.js\": 117,\n\t\"./haml\": 118,\n\t\"./haml.js\": 118,\n\t\"./handlebars\": 119,\n\t\"./handlebars.js\": 119,\n\t\"./haskell\": 120,\n\t\"./haskell.js\": 120,\n\t\"./haskell_cabal\": 121,\n\t\"./haskell_cabal.js\": 121,\n\t\"./haxe\": 122,\n\t\"./haxe.js\": 122,\n\t\"./hjson\": 123,\n\t\"./hjson.js\": 123,\n\t\"./html\": 124,\n\t\"./html.js\": 124,\n\t\"./html_elixir\": 125,\n\t\"./html_elixir.js\": 125,\n\t\"./html_ruby\": 126,\n\t\"./html_ruby.js\": 126,\n\t\"./ini\": 127,\n\t\"./ini.js\": 127,\n\t\"./io\": 128,\n\t\"./io.js\": 128,\n\t\"./jack\": 129,\n\t\"./jack.js\": 129,\n\t\"./jade\": 130,\n\t\"./jade.js\": 130,\n\t\"./java\": 131,\n\t\"./java.js\": 131,\n\t\"./javascript\": 132,\n\t\"./javascript.js\": 132,\n\t\"./json\": 133,\n\t\"./json.js\": 133,\n\t\"./jsoniq\": 134,\n\t\"./jsoniq.js\": 134,\n\t\"./jsp\": 135,\n\t\"./jsp.js\": 135,\n\t\"./jssm\": 136,\n\t\"./jssm.js\": 136,\n\t\"./jsx\": 137,\n\t\"./jsx.js\": 137,\n\t\"./julia\": 138,\n\t\"./julia.js\": 138,\n\t\"./kotlin\": 139,\n\t\"./kotlin.js\": 139,\n\t\"./latex\": 140,\n\t\"./latex.js\": 140,\n\t\"./lean\": 141,\n\t\"./lean.js\": 141,\n\t\"./less\": 142,\n\t\"./less.js\": 142,\n\t\"./liquid\": 143,\n\t\"./liquid.js\": 143,\n\t\"./lisp\": 144,\n\t\"./lisp.js\": 144,\n\t\"./live_script\": 145,\n\t\"./live_script.js\": 145,\n\t\"./livescript\": 146,\n\t\"./livescript.js\": 146,\n\t\"./logiql\": 147,\n\t\"./logiql.js\": 147,\n\t\"./lsl\": 148,\n\t\"./lsl.js\": 148,\n\t\"./lua\": 149,\n\t\"./lua.js\": 149,\n\t\"./luapage\": 151,\n\t\"./luapage.js\": 151,\n\t\"./lucene\": 152,\n\t\"./lucene.js\": 152,\n\t\"./makefile\": 153,\n\t\"./makefile.js\": 153,\n\t\"./markdown\": 154,\n\t\"./markdown.js\": 154,\n\t\"./mask\": 155,\n\t\"./mask.js\": 155,\n\t\"./matlab\": 156,\n\t\"./matlab.js\": 156,\n\t\"./mavens_mate_log\": 157,\n\t\"./mavens_mate_log.js\": 157,\n\t\"./maze\": 158,\n\t\"./maze.js\": 158,\n\t\"./mel\": 159,\n\t\"./mel.js\": 159,\n\t\"./mips_assembler\": 160,\n\t\"./mips_assembler.js\": 160,\n\t\"./mipsassembler\": 161,\n\t\"./mipsassembler.js\": 161,\n\t\"./mushcode\": 162,\n\t\"./mushcode.js\": 162,\n\t\"./mysql\": 163,\n\t\"./mysql.js\": 163,\n\t\"./nix\": 164,\n\t\"./nix.js\": 164,\n\t\"./nsis\": 165,\n\t\"./nsis.js\": 165,\n\t\"./objectivec\": 166,\n\t\"./objectivec.js\": 166,\n\t\"./ocaml\": 167,\n\t\"./ocaml.js\": 167,\n\t\"./pascal\": 168,\n\t\"./pascal.js\": 168,\n\t\"./perl\": 169,\n\t\"./perl.js\": 169,\n\t\"./pgsql\": 170,\n\t\"./pgsql.js\": 170,\n\t\"./php\": 171,\n\t\"./php.js\": 171,\n\t\"./pig\": 172,\n\t\"./pig.js\": 172,\n\t\"./plain_text\": 173,\n\t\"./plain_text.js\": 173,\n\t\"./powershell\": 174,\n\t\"./powershell.js\": 174,\n\t\"./praat\": 175,\n\t\"./praat.js\": 175,\n\t\"./prolog\": 176,\n\t\"./prolog.js\": 176,\n\t\"./properties\": 177,\n\t\"./properties.js\": 177,\n\t\"./protobuf\": 178,\n\t\"./protobuf.js\": 178,\n\t\"./python\": 179,\n\t\"./python.js\": 179,\n\t\"./r\": 180,\n\t\"./r.js\": 180,\n\t\"./razor\": 181,\n\t\"./razor.js\": 181,\n\t\"./rdoc\": 182,\n\t\"./rdoc.js\": 182,\n\t\"./red\": 183,\n\t\"./red.js\": 183,\n\t\"./rhtml\": 184,\n\t\"./rhtml.js\": 184,\n\t\"./rst\": 185,\n\t\"./rst.js\": 185,\n\t\"./ruby\": 186,\n\t\"./ruby.js\": 186,\n\t\"./rust\": 187,\n\t\"./rust.js\": 187,\n\t\"./sass\": 188,\n\t\"./sass.js\": 188,\n\t\"./scad\": 189,\n\t\"./scad.js\": 189,\n\t\"./scala\": 190,\n\t\"./scala.js\": 190,\n\t\"./scheme\": 191,\n\t\"./scheme.js\": 191,\n\t\"./scss\": 192,\n\t\"./scss.js\": 192,\n\t\"./sh\": 193,\n\t\"./sh.js\": 193,\n\t\"./sjs\": 194,\n\t\"./sjs.js\": 194,\n\t\"./smarty\": 195,\n\t\"./smarty.js\": 195,\n\t\"./snippets\": 196,\n\t\"./snippets.js\": 196,\n\t\"./soy_template\": 197,\n\t\"./soy_template.js\": 197,\n\t\"./space\": 198,\n\t\"./space.js\": 198,\n\t\"./sparql\": 199,\n\t\"./sparql.js\": 199,\n\t\"./sql\": 200,\n\t\"./sql.js\": 200,\n\t\"./sqlserver\": 201,\n\t\"./sqlserver.js\": 201,\n\t\"./stylus\": 202,\n\t\"./stylus.js\": 202,\n\t\"./svg\": 203,\n\t\"./svg.js\": 203,\n\t\"./swift\": 204,\n\t\"./swift.js\": 204,\n\t\"./swig\": 205,\n\t\"./swig.js\": 205,\n\t\"./tcl\": 206,\n\t\"./tcl.js\": 206,\n\t\"./tex\": 207,\n\t\"./tex.js\": 207,\n\t\"./text\": 208,\n\t\"./text.js\": 208,\n\t\"./textile\": 209,\n\t\"./textile.js\": 209,\n\t\"./toml\": 210,\n\t\"./toml.js\": 210,\n\t\"./tsx\": 211,\n\t\"./tsx.js\": 211,\n\t\"./turtle\": 212,\n\t\"./turtle.js\": 212,\n\t\"./twig\": 213,\n\t\"./twig.js\": 213,\n\t\"./typescript\": 214,\n\t\"./typescript.js\": 214,\n\t\"./vala\": 215,\n\t\"./vala.js\": 215,\n\t\"./vbscript\": 216,\n\t\"./vbscript.js\": 216,\n\t\"./velocity\": 217,\n\t\"./velocity.js\": 217,\n\t\"./verilog\": 218,\n\t\"./verilog.js\": 218,\n\t\"./vhdl\": 219,\n\t\"./vhdl.js\": 219,\n\t\"./wollok\": 220,\n\t\"./wollok.js\": 220,\n\t\"./xml\": 221,\n\t\"./xml.js\": 221,\n\t\"./xquery\": 222,\n\t\"./xquery.js\": 222,\n\t\"./yaml\": 223,\n\t\"./yaml.js\": 223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 307;","var map = {\n\t\"./ambiance\": 224,\n\t\"./ambiance.js\": 224,\n\t\"./chaos\": 225,\n\t\"./chaos.js\": 225,\n\t\"./chrome\": 226,\n\t\"./chrome.js\": 226,\n\t\"./clouds\": 227,\n\t\"./clouds.js\": 227,\n\t\"./clouds_midnight\": 228,\n\t\"./clouds_midnight.js\": 228,\n\t\"./cobalt\": 229,\n\t\"./cobalt.js\": 229,\n\t\"./crimson_editor\": 230,\n\t\"./crimson_editor.js\": 230,\n\t\"./dawn\": 231,\n\t\"./dawn.js\": 231,\n\t\"./dracula\": 232,\n\t\"./dracula.js\": 232,\n\t\"./dreamweaver\": 233,\n\t\"./dreamweaver.js\": 233,\n\t\"./eclipse\": 234,\n\t\"./eclipse.js\": 234,\n\t\"./github\": 235,\n\t\"./github.js\": 235,\n\t\"./gob\": 236,\n\t\"./gob.js\": 236,\n\t\"./gruvbox\": 237,\n\t\"./gruvbox.js\": 237,\n\t\"./idle_fingers\": 238,\n\t\"./idle_fingers.js\": 238,\n\t\"./iplastic\": 239,\n\t\"./iplastic.js\": 239,\n\t\"./katzenmilch\": 240,\n\t\"./katzenmilch.js\": 240,\n\t\"./kr_theme\": 241,\n\t\"./kr_theme.js\": 241,\n\t\"./kuroir\": 242,\n\t\"./kuroir.js\": 242,\n\t\"./merbivore\": 243,\n\t\"./merbivore.js\": 243,\n\t\"./merbivore_soft\": 244,\n\t\"./merbivore_soft.js\": 244,\n\t\"./mono_industrial\": 245,\n\t\"./mono_industrial.js\": 245,\n\t\"./monokai\": 246,\n\t\"./monokai.js\": 246,\n\t\"./pastel_on_dark\": 247,\n\t\"./pastel_on_dark.js\": 247,\n\t\"./solarized_dark\": 248,\n\t\"./solarized_dark.js\": 248,\n\t\"./solarized_light\": 249,\n\t\"./solarized_light.js\": 249,\n\t\"./sqlserver\": 250,\n\t\"./sqlserver.js\": 250,\n\t\"./terminal\": 251,\n\t\"./terminal.js\": 251,\n\t\"./textmate\": 252,\n\t\"./textmate.js\": 252,\n\t\"./tomorrow\": 253,\n\t\"./tomorrow.js\": 253,\n\t\"./tomorrow_night\": 254,\n\t\"./tomorrow_night.js\": 254,\n\t\"./tomorrow_night_blue\": 255,\n\t\"./tomorrow_night_blue.js\": 255,\n\t\"./tomorrow_night_bright\": 256,\n\t\"./tomorrow_night_bright.js\": 256,\n\t\"./tomorrow_night_eighties\": 257,\n\t\"./tomorrow_night_eighties.js\": 257,\n\t\"./twilight\": 258,\n\t\"./twilight.js\": 258,\n\t\"./vibrant_ink\": 259,\n\t\"./vibrant_ink.js\": 259,\n\t\"./xcode\": 260,\n\t\"./xcode.js\": 260\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 310;","import { StyleSheet } from 'aphrodite'\r\n\r\nexport default StyleSheet.create({\r\n  main: {\r\n    padding: '15px 0'\r\n  },\r\n})\r\n","/*\r\n * action types\r\n */\r\n\r\nexport const PUSH_MESSAGES = \"PUSH_MESSAGES\"\r\nexport const REMOVE_ALL_MESSAGES = \"REMOVE_ALL_MESSAGES\"\r\nexport const GENERATE_RANDOM_MESSAGES = \"PUSH_MESSAGES\"\r\nexport const UPDATE_MESSAGES = \"UPDATE_MESSAGES\"\r\nexport const SAVE_DRAFT = \"SAVE_DRAFT\"\r\nexport const SEND_DRAFT_MESSAGE = \"SEND_DRAFT_MESSAGE\"\r\n\r\n/*\r\n * action creators\r\n */\r\n\r\nexport function sendDraftMessage(draftMessage) {\r\n  return { type: SEND_DRAFT_MESSAGE, payload: { message: draftMessage } }\r\n}\r\n\r\nexport function saveDraft(draftMessage) {\r\n  return { type: SAVE_DRAFT, payload: { message: draftMessage } }\r\n}\r\n\r\nexport function createMessages(messages) {\r\n  return { type: PUSH_MESSAGES, payload: { messages: messages } }\r\n}\r\n\r\nexport function removeAllMessages() {\r\n  return { type: REMOVE_ALL_MESSAGES }\r\n}\r\n\r\nexport function updateMessages(messages, chatId) {\r\n  return { type: UPDATE_MESSAGES, payload: { messages: messages, chatId: chatId} }\r\n}\r\n","/*\r\n * action types\r\n */\r\n\r\nexport const ADD_CHAT = \"ADD_CHAT\"\r\nexport const REMOVE_CHAT = \"REMOVE_CHAT\"\r\n\r\n/*\r\n * action creators\r\n */\r\n\r\nexport function createChat({chatId, label}) {\r\n  return { type: ADD_CHAT, payload: { chat: { id: chatId, label: label } } }\r\n}\r\n\r\nexport function removeChat(chatId) {\r\n  return { type: REMOVE_CHAT, payload: chatId }\r\n}\r\n","/*\r\n * action types\r\n */\r\nexport const CREATE_REWIND_POINT = \"CREATE_REWIND_POINT\"\r\nexport const REMOVE_REWIND_POINT = \"REMOVE_REWIND_POINT\"\r\nexport const SELECT_REWIND_POINT = \"SELECT_REWIND_POINT\"\r\nexport const UPDATE_REWIND_POINTS = \"UPDATE_REWIND_POINTS\"\r\n\r\n/*\r\n * action creators\r\n */\r\n\r\nexport function createRewindPoint(pointName, database) {\r\n  return { type: CREATE_REWIND_POINT, payload: { name: pointName, db: database }}\r\n}\r\n\r\nexport function removeRewindPoint(pointId) {\r\n  return { type: REMOVE_REWIND_POINT, payload: { id: pointId } }\r\n}\r\n\r\nexport function selectRewindPoint(pointId) {\r\n  return { type: SELECT_REWIND_POINT, payload: { id: pointId } }\r\n}\r\n\r\nexport function updateRewindPoints(points) {\r\n  return { type: UPDATE_REWIND_POINTS, payload: { points: points } }\r\n}\r\n","// this message types will be shown in game control inject message list\r\nexport const showOnGameControl = [\r\n  \"height\", \"color\", \"weight\",\r\n]\r\n\r\n// this message type will be used on chat header add button click\r\nexport const chatAddBtnSettings = {\r\n  scheme: \"name\",\r\n  format: \"table\" //grid\r\n}\r\n","import PouchDB from 'pouchdb-browser'\r\nimport defaultOptions from './config-default.json'\r\nlet options;\r\n\r\ntry {\r\n options = require('./config-local.json')\r\n}\r\ncatch (e) {\r\n options = {}\r\n}\r\n\r\noptions = {\r\n  ...defaultOptions,\r\n  ...options\r\n}\r\n\r\nexport const dbOptions = {...options}\r\n\r\nconst getDb = (dbKey, sync, optionsManual) => {\r\n\r\n  if(!options[dbKey] && !optionsManual)\r\n    return new PouchDB(dbKey)\r\n\r\n  if(!optionsManual) optionsManual = {}\r\n\r\n  const optLoc = options[dbKey] ? {...options[dbKey], ...optionsManual} : optionsManual\r\n\r\n  const db = new PouchDB(optLoc.name || dbKey)\r\n\r\n  if(optLoc.remote && sync) {\r\n    const remoteDB = new PouchDB(optLoc.remote)\r\n\r\n    db.replicate.to(remoteDB, {\r\n      live: optLoc.live,\r\n      retry: optLoc.retry\r\n    }).on('complete', done => {\r\n      console.log('complete', done)\r\n    })\r\n\r\n    db.replicate.from(remoteDB, {\r\n      live: optLoc.live,\r\n      retry: optLoc.retry\r\n    }).on('complete', done => {\r\n      console.log('complete from', done)\r\n    })\r\n  }\r\n  return db\r\n}\r\n\r\nexport default getDb\r\n/*\r\ndb.fullySync(remoteDB, {\r\n  live: true,\r\n  retry: true\r\n}).on('change', function (info) {\r\n  // handle change\r\n}).on('paused', function () {\r\n  // replication paused (e.g. user went offline)\r\n}).on('active', function () {\r\n  // replicate resumed (e.g. user went back online)\r\n}).on('denied', function (info) {\r\n  // a document failed to replicate, e.g. due to permissions\r\n}).on('complete', function (info) {\r\n  // handle complete\r\n}).on('error', function (err) {\r\n  // handle error\r\n});\r\n*/\r\n","const defaultOptions = {\r\n  showOnGameControlCreateChats: true,\r\n  addChatIdToChatFromArray: true,\r\n  addChatIdToChatToArray: true,\r\n  preFillFrom: false\r\n}\r\n\r\nconst chats = [\r\n  {\r\n    chatId: \"red\",\r\n    label:\"Red Chat\",\r\n    options: {\r\n      ...defaultOptions\r\n    }\r\n  },\r\n  {\r\n    chatId: \"blue\",\r\n    label:\"Blue Chat\",\r\n    options: {\r\n      ...defaultOptions\r\n    }\r\n  },\r\n  {\r\n    chatId: \"white\",\r\n    label:\"White Chat\",\r\n    options: {\r\n      ...defaultOptions,\r\n      addChatIdToChatToArray: false,\r\n      preFillFrom: true\r\n    }\r\n  }\r\n]\r\n\r\nexport const getToKeys = () => {\r\n  return chats\r\n          .filter(chat => chat.options.addChatIdToChatToArray)\r\n          .map(chat => chat.chatId)\r\n}\r\nexport const getFromKeys = () => {\r\n  return chats\r\n          .filter(chat => chat.options.addChatIdToChatFromArray)\r\n          .map(chat => chat.chatId)\r\n}\r\n\r\nexport const getGameControlChats = () => {\r\n  return chats\r\n          .filter(chat => chat.options.showOnGameControlCreateChats)\r\n}\r\n\r\nexport default chats\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { CardFooter, InputGroup, Button, InputGroupAddon, Input } from 'reactstrap'\r\n\r\nconst RewindForm = ({createRewindPoint}) => {\r\n  const input = React.createRef()\r\n\r\n  const onFormSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    if(input.current.value && input.current.value.length) {\r\n      createRewindPoint(input.current.value)\r\n      input.current.value = \"\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CardFooter>\r\n      <form onSubmit={onFormSubmit}>\r\n        <InputGroup>\r\n          <Input innerRef={input} placeholder=\"New rewind point\"/>\r\n          <InputGroupAddon addonType=\"append\">\r\n            <Button color=\"warning\">Create</Button>\r\n          </InputGroupAddon>\r\n        </InputGroup>\r\n      </form>\r\n    </CardFooter>\r\n  )\r\n}\r\n\r\nRewindForm.propTypes = {\r\n  createRewindPoint: PropTypes.func.isRequired\r\n}\r\n\r\nexport default RewindForm\r\n","import { StyleSheet } from 'aphrodite'\r\n\r\nexport default StyleSheet.create({\r\n  main: {\r\n    padding: '15px 0'\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  createMessage: {\r\n    display: 'none',\r\n  },\r\n  createMessageShow: {\r\n    display: 'block',\r\n  }\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {CardBody, ListGroup, ListGroupItem } from 'reactstrap'\r\n\r\nimport { css } from 'aphrodite/no-important'\r\nimport styles from './styles'\r\n\r\nconst RewindList = ({ rewinds, removeRewindPoint, selectRewindPoint }) => {\r\n\r\n  return (\r\n    <CardBody className={css(!rewinds.length && styles.hide)}>\r\n      <p>Rewind Points:</p>\r\n      <ListGroup>\r\n        {rewinds.map(({doc}, key) => (\r\n          <ListGroupItem\r\n            key={key}\r\n            tag=\"button\"\r\n            active={doc.active}\r\n            onClick={() => {selectRewindPoint(doc._id)}}\r\n          >\r\n            {doc.name}\r\n          </ListGroupItem>\r\n        ))}\r\n      </ListGroup>\r\n    </CardBody>\r\n  )\r\n}\r\n\r\nRewindList.propTypes = {\r\n  removeRewindPoint: PropTypes.func.isRequired,\r\n  selectRewindPoint: PropTypes.func.isRequired,\r\n  rewinds: PropTypes.array.isRequired\r\n}\r\n\r\nexport default RewindList\r\n","import { connect } from 'react-redux'\r\nimport RewindList from '../components/control/rewindList'\r\nimport { removeRewindPoint, selectRewindPoint } from '../actions/rewindPoints'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  rewinds: state.rewindPoints.points,\r\n  active: state.rewindPoints.activeRewind,\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  removeRewindPoint: (id) => {\r\n    dispatch(removeRewindPoint(id))\r\n  },\r\n  selectRewindPoint: (id) => {\r\n    dispatch(selectRewindPoint(id))\r\n  },\r\n})\r\n\r\nconst RewindsContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(RewindList)\r\n\r\nexport default RewindsContainer\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Col, Card, CardHeader, CardBody, CardFooter, Button, ListGroup, ListGroupItem } from 'reactstrap'\r\nimport JSONEditor from '@json-editor/json-editor'\r\nimport loremIpsum from 'lorem-ipsum'\r\nimport { getGameControlChats } from '../../defaults/allowedChats'\r\nimport RewindForm from './rewindForm'\r\nimport RewindList from '../../containers/rewinds'\r\n\r\nimport { css } from 'aphrodite/no-important'\r\nimport styles from './styles'\r\n\r\nclass ChatControll extends Component {\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.newMessageForm = this.newMessageForm.bind(this)\r\n    this.closeMessageForm = this.closeMessageForm.bind(this)\r\n    this.injectForm = this.injectForm.bind(this)\r\n    this.generateMessages = this.generateMessages.bind(this)\r\n    this.editor = null\r\n    this.editorRef = React.createRef()\r\n\r\n    this.state = {\r\n      activeSchema: null,\r\n      createChats: getGameControlChats()\r\n    }\r\n  }\r\n\r\n  generateMessages(count) {\r\n    this.props.createMessages(Array.apply(null, Array(count)).map(() => {\r\n      const messageType = this.props.messageTypes[Math.floor(Math.random()*this.props.messageTypes.length)]\r\n      return messageType.required.reduce((map, field) => {\r\n\r\n        let value = \"\"\r\n        const enumArr = messageType.properties[field].enum;\r\n        if(Array.isArray(enumArr) && enumArr.length) {\r\n          value = enumArr[Math.floor(Math.random()*enumArr.length)]\r\n        }\r\n        else if(messageType.properties[field].format === \"color\") {\r\n          value = '#'+Math.floor(Math.random()*16777215).toString(16)\r\n        }\r\n        else {\r\n          switch (messageType.properties[field].type) {\r\n            case \"integer\":\r\n              value = Math.floor(Math.random()*999)\r\n              break;\r\n            case \"string\":\r\n              value = loremIpsum({count: 1})\r\n              break;\r\n            default:\r\n              value = messageType.properties[field].default || loremIpsum({count: 1})\r\n          }\r\n        }\r\n\r\n        map[field] = value\r\n        return map\r\n      }, {})\r\n    }));\r\n  }\r\n\r\n  newMessageForm(e) {\r\n    if(this.state.activeSchema !== e.target.name) {\r\n      if(this.editor)\r\n        this.editor.destroy()\r\n\r\n      this.setState({activeSchema: e.target.name})\r\n      let schema = this.props.messageTypes[e.target.name]\r\n      schema.properties.from.enum = schema.properties.from.enum.sort((x, y) => (x === \"white\" ? -1 : y === \"white\" ? 1 : 0))\r\n\r\n      this.editor = new JSONEditor(this.editorRef.current, {\r\n        schema: schema,\r\n        theme: 'bootstrap4'\r\n      })\r\n    }\r\n    else\r\n      this.closeMessageForm()\r\n  }\r\n\r\n  closeMessageForm() {\r\n    this.editor.destroy()\r\n    this.setState({activeSchema: null})\r\n  }\r\n\r\n  injectForm() {\r\n    if(!(this.editor.validate()).length) {\r\n      this.props.createMessages([this.editor.getValue()])\r\n      this.closeMessageForm()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={css(styles.main)}>\r\n        <Row className=\"main\">\r\n          <Col md={4}>\r\n            <Card>\r\n              <CardHeader>Game Control</CardHeader>\r\n              <CardBody>\r\n                <p>Inject Messages:</p>\r\n                <ListGroup>\r\n                  {this.props.messageTypes.map((schema, key) => (\r\n                    <ListGroupItem\r\n                      key={key}\r\n                      tag=\"button\"\r\n                      active={key === parseInt(this.state.activeSchema)}\r\n                      onClick={this.newMessageForm}\r\n                      name={key}\r\n                    >\r\n                      {schema.title}\r\n                    </ListGroupItem>\r\n                  ))}\r\n                </ListGroup>\r\n              </CardBody>\r\n              {(!!this.state.createChats.length) && <CardBody>\r\n                <p>Create chats:</p>\r\n                <ListGroup>\r\n                  {this.state.createChats.map((chat, key) => {\r\n                    const active = this.props.chats.includes(chat.chatId)\r\n                    return (\r\n                      <ListGroupItem\r\n                        key={key}\r\n                        tag=\"button\"\r\n                        active={active}\r\n                        onClick={() => {\r\n                          if (active)\r\n                            this.props.removeChat(chat.chatId)\r\n                          else\r\n                            this.props.createChat(chat)\r\n                        }}\r\n                      >\r\n                        {chat.label}\r\n                      </ListGroupItem>\r\n                    )\r\n                  })}\r\n                </ListGroup>\r\n              </CardBody>}\r\n              <RewindForm createRewindPoint={this.props.createRewindPoint}/>\r\n              <RewindList/>\r\n              <CardFooter>\r\n                <Button block color=\"success\" onClick={() => {this.generateMessages(50)}}>Generate 50 Messages</Button>\r\n                <Button block color=\"success\" onClick={() => {this.generateMessages(100)}}>Generate 100 Messages</Button>\r\n                <Button block color=\"success\" onClick={() => {this.generateMessages(1000)}}>Generate 1000 Messages</Button>\r\n              </CardFooter>\r\n              <CardFooter>\r\n                <Button block color=\"danger\" onClick={this.props.clearMessages}>Clear Messages</Button>\r\n              </CardFooter>\r\n            </Card>\r\n          </Col>\r\n          <Col md={8}>\r\n            <div className={css(styles.createMessage, this.state.activeSchema && styles.createMessageShow)}>\r\n              <Card>\r\n                <CardBody>\r\n                  <div ref={this.editorRef}/>\r\n                </CardBody>\r\n                <CardFooter>\r\n                  <Button color=\"success\" onClick={this.injectForm}>Inject</Button>\r\n                </CardFooter>\r\n              </Card>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nChatControll.propTypes = {\r\n  messageTypes: PropTypes.array,\r\n  clearMessages: PropTypes.func.isRequired,\r\n  createRewindPoint: PropTypes.func.isRequired,\r\n  createMessages: PropTypes.func.isRequired,\r\n  createChat: PropTypes.func.isRequired,\r\n  removeChat: PropTypes.func.isRequired,\r\n  chats: PropTypes.array,\r\n}\r\n\r\nexport default ChatControll\r\n","import { connect } from 'react-redux'\r\nimport { createMessages, removeAllMessages } from '../actions/messages'\r\nimport { createChat, removeChat } from '../actions/chats'\r\nimport { createRewindPoint } from '../actions/rewindPoints'\r\nimport { showOnGameControl } from '../defaults/messageTypesKeys'\r\n\r\nimport Control from '../components/control'\r\n\r\nconst mapStateToProps = state => ({\r\n  messageTypes: state.messageTypes.filter(type => (showOnGameControl.includes(type.scheme))),\r\n  chats: state.chats.map((chat) => chat && chat.id)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\r\n  return {\r\n    createMessages: (messages) => {\r\n      dispatch(createMessages(messages))\r\n    },\r\n    clearMessages: () => {\r\n      dispatch(removeAllMessages())\r\n    },\r\n    createChat: (chat) => {\r\n      dispatch(createChat(chat))\r\n    },\r\n    removeChat: (id) => {\r\n      dispatch(removeChat(id))\r\n    },\r\n    createRewindPoint: (pointName) => {\r\n      dispatch(createRewindPoint(pointName, 'messages'))\r\n    },\r\n  }\r\n}\r\n\r\nconst ControlContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Control)\r\n\r\nexport default ControlContainer\r\n","import { StyleSheet } from 'aphrodite'\r\n\r\nexport default StyleSheet.create({\r\n  chatItem: {\r\n    paddingBottom: '15px'\r\n  },\r\n})\r\n","import { StyleSheet } from 'aphrodite/no-important'\r\n\r\nexport default StyleSheet.create({\r\n  main: {\r\n    height: '320px',\r\n    position: 'relative',\r\n    paddingTop: '0.1px',\r\n    \":after\": {\r\n      content: '\"\"',\r\n      display: 'block',\r\n      position: 'absolute',\r\n      width: \"100%\",\r\n      height: '20px',\r\n      top: '100%',\r\n      background: \"linear-gradient(to bottom, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%)\",\r\n      left: '0',\r\n    },\r\n    \":before\": {\r\n      content: '\"\"',\r\n      display: 'block',\r\n      position: 'absolute',\r\n      width: \"100%\",\r\n      height: '20px',\r\n      bottom: '100%',\r\n      left: '0',\r\n      zIndex: '2',\r\n      background: \"linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%)\",\r\n    }\r\n  },\r\n  container: {\r\n    position: 'absolute',\r\n    maxHeight: '100%',\r\n    height: 'auto',\r\n    left: '0',\r\n    bottom: '0',\r\n    width: '100%'\r\n  },\r\n  item: {\r\n    display: 'inline-block',\r\n    verticalAligin: 'top',\r\n    maxWidth: \"100%\",\r\n  },\r\n  scrolContent: {\r\n    padding: '20px'\r\n  },\r\n  badge: {\r\n    maxWidth: \"100%\",\r\n    fontSize: '16px',\r\n    lineHeight: '20px',\r\n    padding: '5px 15px',\r\n    borderRadius: '15px 0 15px 15px',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n    display: 'inline-block',\r\n    verticalAligin: 'top',\r\n    opacity: '0.9',\r\n    color: '#fff',\r\n    ':hover': {\r\n      opacity: '1'\r\n    }\r\n  },\r\n  badgeLeft: {\r\n    borderRadius: '0 15px 15px 15px',\r\n  },\r\n  badgeBg: {\r\n    opacity: '0.8',\r\n    position: 'absolute',\r\n    left: '0',\r\n    bottom: '0',\r\n    height: '100%',\r\n    width: '100%'\r\n  },\r\n  message: {\r\n    position: 'relative'\r\n  },\r\n  scrollbar: {\r\n    boxSizing: 'content-box',\r\n    width: '100%',\r\n    padding: '20px',\r\n    margin: '-20px 0 0 -20px',\r\n    position: 'relative',\r\n    height: '100%'\r\n  }\r\n})\r\n","export const bg = {\r\n  blue: \"bg-primary\",\r\n  gray: \"bg-secondary\",\r\n  green: \"bg-success\",\r\n  red: \"bg-danger\",\r\n  yellow: \"bg-warning\",\r\n  black: \"bg-dark\",\r\n  white: \"bg-white\",\r\n  lightBlue: \"bg-info\",\r\n  lightGray: \"bg-light\",\r\n  lightBlack: \"bg-muted\",\r\n}\r\n\r\nexport const buttons = {\r\n  transparent: \"link\",\r\n  blue: \"primary\",\r\n  gray: \"secondary\",\r\n  green: \"success\",\r\n  red: \"danger\",\r\n  yellow: \"warning\",\r\n  lightBlue: \"info\",\r\n}\r\n\r\nexport const text = {\r\n  blue: \"text-primary\",\r\n  gray: \"text-secondary\",\r\n  green: \"text-success\",\r\n  red: \"text-danger\",\r\n  yellow: \"text-warning\",\r\n  black: \"text-dark\",\r\n  white: \"text-white\",\r\n  lightBlue: \"text-info\",\r\n  lightGray: \"text-light\",\r\n  lightBlack: \"text-muted\",\r\n}\r\n\r\nconst theme = {\r\n  bg: bg,\r\n  buttons: buttons,\r\n  text: text\r\n}\r\n\r\nexport default theme\r\n","class ColorScheme {\r\n\r\n  constructor(id) {\r\n    this.itemId = id\r\n    this.items = {}\r\n    this.itemDefault = {}\r\n    this.global = {}\r\n  }\r\n\r\n  getGlobalScheme() {\r\n    return this.global\r\n  }\r\n\r\n  getItemScheme() {\r\n    return {\r\n      ...this.itemDefault,\r\n      ...(this.items[this.itemId] || {})\r\n    }\r\n  }\r\n\r\n  getScheme() {\r\n    return {\r\n      item: this.getItemScheme(),\r\n      global: this.getGlobalScheme(),\r\n    }\r\n  }\r\n}\r\n\r\nexport default ColorScheme\r\n","import { bg, text } from './theme'\r\nimport ColorScheme from './scheme'\r\n\r\nclass MessageScheme extends ColorScheme {\r\n\r\n  constructor(chatId) {\r\n    super(chatId)\r\n\r\n    this.items = {\r\n      red: {\r\n        bg: bg.red,\r\n      },\r\n      blue: {\r\n        bg: bg.blue,\r\n      }\r\n    }\r\n\r\n    this.itemDefault = {\r\n      bg: bg.gray,\r\n      text: text.white,\r\n    }\r\n  }\r\n}\r\n\r\nexport default MessageScheme\r\n","import React, { Component, createRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { css } from 'aphrodite/no-important'\r\nimport styles from './styles'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport MessageColorScheme from '../../../defaults/schemeColors/messageScheme'\r\nimport classNames from 'classnames/bind'\r\n\r\nclass ChatMessages extends Component {\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.timeId = null\r\n    this.loadTimeId = null\r\n    this.loading = false\r\n    this.scrolledDown = true\r\n    this.scrollbar = createRef()\r\n    this.loadMoreCount = 10\r\n\r\n    this.getScrollHeight = this.getScrollHeight.bind(this)\r\n    this.onScrollUp = this.onScrollUp.bind(this)\r\n    this.onYReachStart = this.onYReachStart.bind(this)\r\n    this.onYReachEnd = this.onYReachEnd.bind(this)\r\n    this.scrollToDown = this.scrollToDown.bind(this)\r\n    this.firstScrolled = false\r\n\r\n    this.state = {\r\n      showItemsCount: 10,\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.loadTimeId)\r\n  }\r\n\r\n  onScrollUp() {\r\n    this.scrolledDown = false\r\n  }\r\n\r\n  onYReachEnd() {\r\n    this.scrolledDown = true\r\n  }\r\n\r\n  onYReachStart() {\r\n\r\n    if(this.loadTimeId)\r\n      clearTimeout(this.loadTimeId)\r\n\r\n    this.loadTimeId = setTimeout(() => {\r\n      const currentHeigth = this.getScrollHeight()\r\n      if(!this.scrolledDown && !this.loading) {\r\n        this.loading = true\r\n        this.setState({showItemsCount: this.state.showItemsCount + this.loadMoreCount})\r\n        setTimeout(() => {\r\n          if(this.scrollbar.current)\r\n            this.scrollbar.current._container.scrollTop = this.getScrollHeight() - currentHeigth\r\n          this.loading = false\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getScrollHeight() {\r\n    return this.scrollbar.current ? this.scrollbar.current._container.scrollHeight : 0\r\n  }\r\n\r\n  scrollToDown() {\r\n    if(this.timeId)\r\n      clearTimeout(this.timeId)\r\n\r\n    this.timeId = setTimeout(() => {\r\n      if(this.scrollbar.current) {\r\n        this.scrollbar.current._container.scrollTop = this.getScrollHeight()\r\n        this.firstScrolled = true\r\n      }\r\n      else {\r\n        if(!this.firstScrolled) {\r\n          this.timeId = setTimeout(() => {\r\n            this.scrollToDown()\r\n          }, 512)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    if(this.props.messages.length !== 0 && props.messages.length > this.state.showItemsCount && this.props.messages.length < props.messages.length) {\r\n      let newItemsCount = props.messages.length - this.props.messages.length\r\n      this.setState({showItemsCount: this.state.showItemsCount + (newItemsCount > this.loadMoreCount ? this.loadMoreCount : newItemsCount) })\r\n    }\r\n\r\n    this.scrollToDown()\r\n  }\r\n\r\n  renderItem(message) {\r\n    if(!message) return \"\"\r\n    const fromChat = message.from === this.props.chatId\r\n    const colorScheme = (new MessageColorScheme(message.from)).getItemScheme()\r\n    let itemStyles = {}\r\n\r\n    if(fromChat) {\r\n      itemStyles = { textAlign: 'right' }\r\n    }\r\n\r\n    return(\r\n      <div style={itemStyles}>\r\n        <div className={css(styles.item)}>\r\n          <div className={css(styles.badge, (!fromChat) && styles.badgeLeft)}>\r\n            <div className={classNames(css(styles.badgeBg), colorScheme.bg)}/>\r\n            <div className={classNames(css(styles.message), colorScheme.text)}>\r\n              {Object.keys(message).map(key => (key.charAt(0) !== '_' && message[key] && <div key={key}><strong>{key}:</strong> {message[key]}</div>))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={css(styles.main)}>\r\n        <div className={css(styles.scrollbar)}>\r\n          <PerfectScrollbar\r\n            ref={this.scrollbar}\r\n            onYReachEnd={this.onYReachEnd}\r\n            onScrollUp={this.onScrollUp}\r\n            onYReachStart={this.onYReachStart}\r\n            suppressScrollX={true}\r\n            className={css(styles.container)}\r\n            contentClassName={css(styles.scrolContent)}\r\n          >\r\n            <div className={css(styles.scrolContent)}>\r\n              {this.props.messages.slice(Math.max(this.props.messages.length - this.state.showItemsCount, 0)).map((msg, key) => (\r\n                <div key={key}>{this.renderItem(msg.doc)}</div>\r\n              ))}\r\n            </div>\r\n          </PerfectScrollbar>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nChatMessages.propTypes = {\r\n  messages: PropTypes.array.isRequired,\r\n  chatId: PropTypes.string.isRequired\r\n}\r\n\r\nexport default ChatMessages\r\n","import { connect } from 'react-redux'\r\nimport Messages from '../components/chat/messages'\r\n\r\nconst mapStateToProps = (state, { chatId }) => {\r\n  return {\r\n    messages: (state.messages && Array.isArray(state.messages[chatId])) ? state.messages[chatId] : [],\r\n    chatId: chatId\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {}\r\n}\r\n\r\nconst MessagesContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Messages)\r\n\r\nexport default MessagesContainer\r\n","import { bg, buttons, text } from './theme'\r\nimport ColorScheme from './scheme'\r\nimport cn from 'classnames'\r\n\r\nclass ChatScheme extends ColorScheme {\r\n\r\n  constructor(chatId) {\r\n    super(chatId)\r\n\r\n    this.items = {\r\n      red: {\r\n        bg: bg.red,\r\n        text: text.white\r\n      },\r\n      blue: {\r\n        bg: bg.blue,\r\n        text: text.white\r\n      }\r\n    }\r\n\r\n    this.itemDefault = {\r\n      bg: bg.lightGray,\r\n      text: text.black,\r\n      btn: buttons.gray\r\n    }\r\n\r\n    this.global = {\r\n      body: bg.white,\r\n      footer: bg.light,\r\n      tab: bg.white,\r\n      activeTab: cn(bg.blue, text.white),\r\n    }\r\n  }\r\n}\r\n\r\nexport default ChatScheme\r\n","import chats from '../defaults/allowedChats'\r\n\r\n// declare the messages views\r\nlet messages = {}\r\nchats.forEach(({chatId}) => {\r\n  messages[chatId] = {\r\n    map: `function (doc) { if(doc.to === \"${chatId}\" && doc.draft === false || doc.from === \"${chatId}\") emit(doc.id); }`\r\n  }\r\n})\r\n\r\n// declare the views\r\nexport const views = {\r\n  messages: messages\r\n}\r\n\r\n// query couchdb views\r\nexport const query = (db, view, params) => {\r\n  const namespace = view.split('/')[0]\r\n\r\n  return db.query(view, params).catch(err => {\r\n    if (!views[namespace]) throw new Error('View ' + namespace + ' is not defined.')\r\n\r\n    // if view doesn't exist, create it, and try again\r\n    if (err.status === 404) {\r\n      return db.put({\r\n        _id: '_design/' + namespace,\r\n        views: views[namespace]\r\n      }).then(() => (query(db, view, params)))\r\n    }\r\n  })\r\n}\r\n\r\nexport default views\r\n","import chats from '../defaults/allowedChats'\r\n/* pouchdb filter management\r\n */\r\n\r\n // declare the messages filters\r\nlet messages = {\r\n  cloneFilter: 'function (doc) { return !doc._deleted; }'\r\n}\r\nchats.forEach(({chatId}) => {\r\n  messages[chatId] = `function (doc) { return doc.to === \"${chatId}\" && doc.draft === false || doc.from === \"${chatId}\"; }`\r\n})\r\n\r\n// declare the filters\r\nexport const filters = {\r\n  messages: messages\r\n}\r\n\r\nexport const prefix = 'filter'\r\n\r\n// query couchdb filters\r\nexport const changes = (db, filter, params) => {\r\n  return db.changes({\r\n    since: 'now',\r\n    live: true,\r\n    include_docs: true,\r\n    filter: prefix + filter\r\n  })\r\n}\r\n\r\nexport default filters\r\n","import { StyleSheet } from 'aphrodite/no-important'\r\n\r\nexport default StyleSheet.create({\r\n  label: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n  },\r\n  labelContainer: {\r\n    position: 'relative',\r\n    width: '100%'\r\n  },\r\n  labelButton: {\r\n    paddingRight: '0 !important',\r\n    paddingLeft: '0 !important'\r\n  }\r\n})\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { CardHeader, Button } from 'reactstrap'\r\nimport { css } from 'aphrodite/no-important'\r\nimport styles from './styles'\r\n\r\nconst ChatHeader = ({ colorScheme, button, children, chatId, defaultMessageType, createDraft }) => {\r\n\r\n  const headerButtonOnClick = () => {\r\n    let message = {}\r\n    \r\n    defaultMessageType.required.forEach(field => {\r\n      let value = \"\"\r\n\r\n      const enumArr = defaultMessageType.properties[field].enum;\r\n\r\n      if(Array.isArray(enumArr) && enumArr.length) {\r\n        if(field === 'from' && enumArr.includes(chatId))\r\n          value = chatId\r\n        else if(defaultMessageType.properties[field].default)\r\n          value = defaultMessageType.properties[field].default\r\n        else\r\n          value = enumArr[0]\r\n      }\r\n      else if(defaultMessageType.properties[field].default) {\r\n        value = defaultMessageType.properties[field].default\r\n      }\r\n\r\n      message[field] = value\r\n    })\r\n\r\n    createDraft(message)\r\n  }\r\n\r\n  return (\r\n    <CardHeader className={colorScheme.item.bg}>\r\n      <div className={css(styles.labelContainer)}>\r\n        <div className={css(styles.label)}>\r\n          <Button color=\"link\" className={css(styles.labelButton)}>\r\n            <strong className={colorScheme.item.text}>{children}</strong>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      {button && defaultMessageType && <Button color={colorScheme.item.btn} onClick={headerButtonOnClick}>{button}</Button>}\r\n    </CardHeader>\r\n  )\r\n}\r\n\r\nChatHeader.propTypes = {\r\n  createDraft: PropTypes.func.isRequired,\r\n  colorScheme: PropTypes.object.isRequired,\r\n  defaultMessageType: PropTypes.object.isRequired,\r\n  chatId: PropTypes.string.isRequired,\r\n  children: PropTypes.string,\r\n  button: PropTypes.string\r\n}\r\n\r\nChatHeader.defaultValues = {\r\n  button: \"\",\r\n  children: \"\"\r\n}\r\n\r\nexport default ChatHeader\r\n","import { connect } from 'react-redux'\r\nimport Header from '../../components/chat/header'\r\nimport { saveDraft } from '../../actions/messages'\r\nimport { chatAddBtnSettings } from '../../defaults/messageTypesKeys'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  defaultMessageType: state.messageTypes.find(type => (type.scheme === chatAddBtnSettings.scheme))\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\r\n  return {\r\n    createDraft: (message) => {\r\n      dispatch(saveDraft(message))\r\n    }\r\n  }\r\n}\r\n\r\nconst HeaderContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header)\r\n\r\nexport default HeaderContainer\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Button } from 'reactstrap'\r\nimport JSONEditor from '@json-editor/json-editor'\r\n\r\nclass ChatForm extends Component {\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.initForm = this.initForm.bind(this)\r\n    this.submitForm = this.submitForm.bind(this)\r\n    this.getFormFilteredData = this.getFormFilteredData.bind(this)\r\n\r\n    this.editor = null\r\n    this.editorBox = React.createRef()\r\n    this.hiddenAutofillKeys =  [\"draft\", \"_id\", \"_rev\", \"from\", \"test\"]\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initForm()\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    if(this.editor)\r\n      this.editor.setValue(this.getFormFilteredData(props.form, props.message).values)\r\n  }\r\n\r\n  getFormFilteredData(form, message) {\r\n    let formFiltered = {\r\n      ...form,\r\n      required: [\"_id\", ...form.required],\r\n      properties: {...form.properties}\r\n    }\r\n    let messageFiltered = {...message}\r\n\r\n    this.hiddenAutofillKeys.forEach(key => {\r\n      const requiredKey = formFiltered.required.indexOf(key)\r\n      if(requiredKey > -1)\r\n        formFiltered.required.splice(requiredKey, 1)\r\n\r\n      if(formFiltered.properties[key])\r\n        delete formFiltered.properties[key]\r\n\r\n      if(messageFiltered[key])\r\n        delete messageFiltered[key]\r\n    })\r\n    \r\n    return {\r\n      form: formFiltered,\r\n      values: messageFiltered\r\n    }\r\n  }\r\n\r\n  initForm() {\r\n    const formData = this.getFormFilteredData(this.props.form, this.props.message)\r\n\r\n    this.editor = new JSONEditor(this.editorBox.current, {\r\n      schema: formData.form,\r\n      theme: 'bootstrap4'\r\n    }).setValue(formData.values)\r\n\r\n    for(let key in this.editor.editors) {\r\n      if(this.editor.editors.hasOwnProperty(key) && key !== 'root') {\r\n        this.editor.watch(key, data => {\r\n          this.props.saveDraft({\r\n            ...this.props.message,\r\n            ...this.editor.getValue(),\r\n            [key.replace('root.', '')]: this.editor.getEditor(key).getValue()\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  submitForm() {\r\n    if(!this.editor.validate().length)\r\n      this.props.sendDraftMessage({\r\n        ...this.props.message,\r\n        ...this.editor.getValue(),\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"messageEdit\">\r\n        <div ref={this.editorBox}/>\r\n        <Button onClick={this.submitForm}>{this.props.button}</Button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nChatForm.propTypes = {\r\n  button: PropTypes.string.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n  message: PropTypes.object.isRequired,\r\n  sendDraftMessage: PropTypes.func.isRequired,\r\n  saveDraft: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ChatForm\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  CardFooter,\r\n  Dropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  TabContent,\r\n  TabPane\r\n} from 'reactstrap'\r\nimport DraftForm from './form'\r\n\r\n\r\nclass ChatFooter extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props,content)\r\n\r\n    this.renderDropdown = this.renderDropdown.bind(this)\r\n    this.toggle = this.toggle.bind(this)\r\n    this.toggleDropdown = this.toggleDropdown.bind(this)\r\n    this.renderTabs = this.renderTabs.bind(this)\r\n\r\n    this.showDropdownAfter = 3\r\n\r\n    this.state = {\r\n      activeDraft: props.messages.length - 1,\r\n      dropdownOpen: false\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    if(this.props.messages.length !== props.messages.length)\r\n      this.toggle(props.messages.length - 1)\r\n  }\r\n\r\n  toggle(key) {\r\n    this.setState({\r\n      activeDraft: key,\r\n    })\r\n  }\r\n\r\n  toggleDropdown() {\r\n    this.setState({\r\n      dropdownOpen: !this.state.dropdownOpen\r\n    })\r\n  }\r\n\r\n  renderDropdown() {\r\n    return (\r\n      <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggleDropdown}>\r\n        <DropdownToggle caret className={this.props.colorScheme.global.activeTab}>\r\n          {this.props.messages[this.state.activeDraft].doc.title || `Draft ${this.state.activeDraft}`}\r\n        </DropdownToggle>\r\n        <DropdownMenu right>\r\n          {this.props.messages.map((data, key) => (\r\n            <DropdownItem\r\n              key={key}\r\n              className={this.state.activeDraft === key ? this.props.colorScheme.global.activeTab : \"\"}\r\n              onClick={() => { this.toggle(key)} }\r\n            >\r\n              {data.doc.title || `Draft ${key}`}\r\n            </DropdownItem>\r\n          ))}\r\n        </DropdownMenu>\r\n      </Dropdown>\r\n    )\r\n  }\r\n\r\n  renderTabs() {\r\n    if(this.props.messages.length < 2)\r\n      return <div/>\r\n\r\n    return (\r\n      <Nav tabs>\r\n        {this.props.messages.map((data, key) => (\r\n          <NavItem key={key}>\r\n            <NavLink\r\n              className={this.state.activeDraft === key ?\r\n                this.props.colorScheme.global.activeTab :\r\n                this.props.colorScheme.global.tab\r\n              }\r\n              onClick={() => { this.toggle(key)} }\r\n            >\r\n              {data.doc.title ? data.doc.title : `Draft ${key + 1}`}\r\n            </NavLink>\r\n          </NavItem>\r\n        ))}\r\n      </Nav>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <CardFooter className={this.props.colorScheme.global.footer}>\r\n        {this.props.messages.length > 0 && <TabContent activeTab={this.state.activeDraft + \"\"}>\r\n          {this.props.messages.length > this.showDropdownAfter ? this.renderDropdown() : this.renderTabs()}\r\n          {this.props.messages.map((data, key) => (\r\n            <TabPane key={key} tabId={key+\"\"}>\r\n              <DraftForm\r\n                message={data.doc}\r\n                button={this.props.button}\r\n                form={this.props.form}\r\n                saveDraft={this.props.saveDraft}\r\n                sendDraftMessage={this.props.sendDraftMessage}\r\n              />\r\n            </TabPane>\r\n          ))}\r\n        </TabContent >}\r\n      </CardFooter>\r\n    )\r\n  }\r\n}\r\n\r\nChatFooter.propTypes = {\r\n  saveDraft: PropTypes.func.isRequired,\r\n  sendDraftMessage: PropTypes.func.isRequired,\r\n  colorScheme: PropTypes.object.isRequired,\r\n  chatId: PropTypes.string.isRequired,\r\n  button: PropTypes.string.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n  messages: PropTypes.array.isRequired,\r\n}\r\n\r\nexport default ChatFooter\r\n","import { connect } from 'react-redux'\r\nimport Footer from '../../components/chat/footer'\r\nimport { sendDraftMessage, saveDraft } from '../../actions/messages'\r\nimport { chatAddBtnSettings } from '../../defaults/messageTypesKeys'\r\n\r\n\r\nconst mapStateToProps = (state, {chatId}) => ({\r\n  messages: (state.messages && Array.isArray(state.messages[chatId])) ? state.messages[chatId].filter(msg => msg.doc.draft) : [],\r\n  form: {\r\n    ...state.messageTypes.find(type => (type.scheme === chatAddBtnSettings.scheme)),\r\n    format: chatAddBtnSettings.format\r\n  }\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\r\n  return {\r\n    sendDraftMessage: (message) => {\r\n      dispatch(sendDraftMessage(message))\r\n    },\r\n    saveDraft: (message) => {\r\n      dispatch(saveDraft(message))\r\n    }\r\n  }\r\n}\r\n\r\nconst FooterContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Footer)\r\n\r\nexport default FooterContainer\r\n","import React, { Component } from 'react'\r\nimport { Card, CardBody } from 'reactstrap'\r\nimport PropTypes from 'prop-types'\r\nimport Messages from '../../containers/messages'\r\nimport ChatColorScheme from '../../defaults/schemeColors/chatScheme'\r\nimport getDb from '../../databases'\r\nimport { query } from '../../databases/views'\r\nimport { changes, prefix } from '../../databases/filters'\r\nimport { dbOptions } from '../../databases'\r\n\r\nimport Header from '../../containers/chat/header'\r\nimport Footer from '../../containers/chat/footer'\r\n\r\nclass Chat extends Component {\r\n  constructor(props, content) {\r\n    super(props, content)\r\n    this.changeTimer = null\r\n    this.changeTime = 128\r\n    this.updateState = this.updateState.bind(this)\r\n    this.initDatabase = this.initDatabase.bind(this)\r\n    this.dbName = 'messages'\r\n    this.db = null\r\n    this.changes = null\r\n\r\n    this.state = {\r\n      colorScheme: (new ChatColorScheme(props.chatId)).getScheme()\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.initDatabase(this.props.chatId, this.props.activeRewind)\r\n  }\r\n\r\n  componentWillReceiveProps(props) {\r\n    this.initDatabase(props.chatId, props.activeRewind)\r\n  }\r\n\r\n  initDatabase(chatId, activeRewind) {\r\n    const isActiveRewind = activeRewind && activeRewind.doc.local !== this.dbName\r\n    let newDb = !this.db\r\n    if(this.props.chatId !== chatId || isActiveRewind || newDb || (this.props.activeRewind && !activeRewind)) {\r\n      if(this.changes) this.changes.cancel()\r\n\r\n      if(isActiveRewind) {\r\n        this.dbName = activeRewind.doc.local\r\n        this.db = getDb(this.dbName, false, {\r\n          ...dbOptions.messages,\r\n          name: activeRewind.doc.local,\r\n          remote: dbOptions.messages.remote ? dbOptions.messages.remote.replace(\"messages\", this.dbName) : null\r\n        })\r\n        newDb = true\r\n      }\r\n      else {\r\n        if(newDb || this.dbName !== 'messages') {\r\n          newDb = true\r\n          this.dbName = 'messages'\r\n          this.db = getDb(this.dbName)\r\n        }\r\n      }\r\n\r\n      if(newDb) {\r\n        this.updateState()\r\n      }\r\n\r\n      this.changes = changes(this.db, 'messages/' + chatId).on('change', () => {\r\n        this.updateState()\r\n      })\r\n      this.setState({colorScheme: (new ChatColorScheme(chatId)).getScheme()})\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.changes.cancel()\r\n    clearTimeout(this.changeTimer)\r\n  }\r\n\r\n  updateState = (f) => {\r\n    if(this.changeTimer) clearTimeout(this.changeTimer)\r\n    this.changeTimer = setTimeout(() => {\r\n      console.log(this.db);\r\n      query(this.db, 'messages/' + this.props.chatId, {\r\n        include_docs: true,\r\n        filter: prefix + 'messages/' + this.props.chatId\r\n      }).then(({rows}) => {\r\n        console.log(rows);\r\n        this.props.updateMessages(rows || [], this.props.chatId)\r\n        if(typeof f === 'function') f()\r\n      })\r\n    }, this.changeTime)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <Header colorScheme={this.state.colorScheme} button=\"Add >>\" chatId={this.props.chatId}>{this.props.label}</Header>\r\n        <CardBody className={this.state.colorScheme.global.body}>\r\n          <Messages chatId={this.props.chatId}/>\r\n        </CardBody>\r\n        <Footer colorScheme={this.state.colorScheme} button=\"Send\" chatId={this.props.chatId}/>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nChat.propTypes = {\r\n  chatId: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  updateMessages: PropTypes.func.isRequired,\r\n  activeRewind: PropTypes.object\r\n}\r\n\r\nexport default Chat\r\n","import { connect } from 'react-redux'\r\nimport Chat from '../../components/chat'\r\nimport { updateMessages } from '../../actions/messages'\r\n\r\nconst mapStateToProps = (state) => ({\r\n  activeRewind: state.rewindPoints.points.filter(point => point.doc.active)[0]\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  updateMessages: (messages, chatId) => {\r\n    dispatch(updateMessages(messages, chatId))\r\n  }\r\n})\r\n\r\nconst ChatContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Chat)\r\n\r\nexport default ChatContainer\r\n","export const chat = { xs: 12, sm: 6, md: 4, lg: 4 }\r\n","import React from 'react'\r\nimport { css } from 'aphrodite/no-important';\r\nimport styles from './styles'\r\nimport { Row, Col } from 'reactstrap'\r\nimport Chat from '../../containers/chat'\r\nimport { chat as chatSizes } from '../../defaults/schemeSizes'\r\n\r\nconst Chatlist = ({ chats, form }) => {\r\n  return (\r\n    <Row>\r\n      {chats.map((chat, key) => (chat &&\r\n        <Col xs={chatSizes.xs} sm={chatSizes.sm} md={chatSizes.md} key={key}>\r\n          <div className={css(styles.chatItem)}>\r\n            <Chat chatId={chat.id} label={chat.label} form={form}/>\r\n          </div>\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Chatlist\r\n","import { connect } from 'react-redux'\r\nimport Chats from '../components/chatlist'\r\nimport { chatAddBtnSettings } from '../defaults/messageTypesKeys'\r\n\r\nconst mapStateToProps = stage => ({\r\n  chats: stage.chats,\r\n  form: {\r\n    ...stage.messageTypes.find(type => (type.scheme === chatAddBtnSettings.scheme)),\r\n    format: chatAddBtnSettings.format\r\n  }\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({})\r\n\r\nconst ChatsContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Chats)\r\n\r\nexport default ChatsContainer\r\n","import React from 'react'\r\nimport { css } from 'aphrodite/no-important';\r\nimport styles from './styles'\r\nimport { Container } from 'reactstrap'\r\nimport Control from '../../containers/control'\r\nimport Chats from '../../containers/chatlist'\r\n\r\nconst Homepage = () => {\r\n  return (\r\n    <Container fluid>\r\n      <div className={css(styles.main)}>\r\n        <Chats/>\r\n        <Control/>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Homepage\r\n","import { StyleSheet } from 'aphrodite'\r\n\r\nexport default StyleSheet.create({\r\n  main: {\r\n    padding: '15px 0',\r\n  },\r\n  devSection: {\r\n    paddingTop: '15px'\r\n  }\r\n})\r\n","import JSONEditor from '@json-editor/json-editor'\r\n// -------- Editor class ---------------------------------------------------\r\n\r\n// create a JSON Editor, elementId is the id in which to render the editor\r\nfunction Editor(elementId) {\r\n    this.jsonEditor = null;\r\n    this.renderZone = typeof elementId === \"string\" ? document.getElementById(elementId) : elementId.current;\r\n}\r\n\r\n// Destroy editor, and remove it from view\r\nEditor.prototype.destroy = function() {\r\n    if(this.jsonEditor) {\r\n        this.jsonEditor.destroy();\r\n        this.jsonEditor = null;\r\n    }\r\n}\r\n\r\n// Recreate a new editor based on the given schema and start value\r\n// If schema is undefined, the editor is not recreated, but only destroyed\r\nEditor.prototype.updateSchema = function(schema) {\r\n    this.destroy();\r\n    this.jsonEditor = new JSONEditor(this.renderZone, { schema: schema });\r\n}\r\n\r\n// Validate JSON\r\nEditor.prototype.validate = function() {\r\n    return this.jsonEditor.validate();\r\n}\r\n\r\n// Get generated JSON\r\nEditor.prototype.getJSON = function() {\r\n    return this.jsonEditor.getValue();\r\n}\r\n\r\n// --------------- PreviewEditor subclass ------------------------------------\r\n\r\n// create a JSON Editor that doesn't allow specifying additional properties,\r\n// but only those specified in the schema can be set.\r\n// elementId is the id in which to render the editor,\r\nexport function PreviewEditor(elementId) {\r\n    Editor.call(this, elementId);\r\n}\r\n\r\n// Inherit Editor methods\r\nPreviewEditor.prototype = Object.create(Editor.prototype);\r\n\r\n// After `PreviewEditor.prototype = Object.create(Editor.prototype)` instruction,\r\n// PreviewEditor.prototype is a copy of Editor.prototype,\r\n// so the `constructor` property of PreviewEditor.prototype is Editor,\r\n// but a PreviewEditor object is created with the PreviewEditor constructor,\r\n// so we override the `constructor` property of PreviewEditor.prototype to PreviewEditor\r\nObject.defineProperty(PreviewEditor.prototype, 'constructor', {\r\n    value: PreviewEditor,\r\n    enumerable: false, // so that it does not appear in 'for in' loop\r\n    writable: true\r\n});\r\n\r\nPreviewEditor.prototype.updateSchema = function(schema) {\r\n    this.destroy();\r\n    this.jsonEditor = new JSONEditor(this.renderZone, {\r\n        schema: schema,\r\n        no_additional_properties: true\r\n    });\r\n}\r\n\r\n\r\n// --------------- SchemaEditor subclass -------------------------------------\r\n\r\n// create a JSON Editor for a JSON Schema, it adds a save button\r\n// to save the Schema to a file, and also\r\n// makes the 'Properties' buttons distinguishable to avoid confusion between\r\n// schema properties and object properties.\r\n// elementId is the id in which to render the editor,\r\nexport function SchemaEditor(elementId) {\r\n    Editor.call(this, elementId);\r\n\r\n    // Check whether the node is a properties button for an object,\r\n    // and not for the schema of an object named properties\r\n    var isObjectPropertiesButton = function(node) {\r\n        // Does the path end in '.properties'?\r\n        if(node.matches('div[data-schemapath$=\".properties\"] > h3 > div > button.json-editor-btntype-properties')) {\r\n            var containingDiv = node.parentElement.parentElement.parentElement;\r\n            var span = containingDiv.querySelector('h3 > span');\r\n\r\n            // Is it an object properties or a property named properties?\r\n            if(span && span.innerText === 'properties') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    this.observer = new MutationObserver(function(mutationsList, observer) {\r\n        for(var mutation of mutationsList) {\r\n            mutation.addedNodes.forEach(function(node) {\r\n                if(node.nodeType == 1) {\r\n                    if(isObjectPropertiesButton(node)) {\r\n                        node.querySelector('span').innerText = 'Add/Remove';\r\n                    }\r\n                    else if(node.matches('button.json-editor-btntype-properties')) {\r\n                        // For other properties buttons, remove the 'Properties' label,\r\n                        // and use a cog as icon\r\n                        var icon = node.querySelector('i');\r\n                        icon.classList.remove('fa-pen');\r\n                        icon.classList.add('fa-cog');\r\n\r\n                        var span = node.querySelector('span');\r\n                        span.innerText = '';\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    this.observer.observe(this.renderZone, { childList: true, subtree: true });\r\n}\r\n\r\n// Inherit Editor methods\r\nSchemaEditor.prototype = Object.create(Editor.prototype);\r\n\r\n// After `SchemaEditor.prototype = Object.create(Editor.prototype)` instruction,\r\n// SchemaEditor.prototype is a copy of Editor.prototype,\r\n// so the `constructor` property of SchemaEditor.prototype is Editor,\r\n// but a SchemaEditor object is created with the SchemaEditor constructor,\r\n// so we override the `constructor` property of SchemaEditor.prototype to SchemaEditor\r\nObject.defineProperty(SchemaEditor.prototype, 'constructor', {\r\n    value: SchemaEditor,\r\n    enumerable: false, // so that it does not appear in 'for in' loop\r\n    writable: true\r\n});\r\n\r\n// Override the updateSchema function\r\nSchemaEditor.prototype.updateSchema = function(schema) {\r\n    this.destroy();\r\n\r\n    // Add extra validation logic for integer schemas that use the `range` format.\r\n    // For integer schemas that use the `range` format we require that minimum and maximum properties are set, too.\r\n    var range_integer_validator = function(schema, value, path) {\r\n        var errors = [];\r\n        if(value.type === 'integer' && value.format === 'range') {\r\n            if(typeof value.minimum === 'undefined' || typeof value.maximum === 'undefined') {\r\n                errors.push({\r\n                    path: path,\r\n                    property: 'format',\r\n                    message: 'The range format requires that you specify both minimum and maximum properties, too.'\r\n                });\r\n            }\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    // Check that if minimum and maximum are specified, minimum <= maximum\r\n    var min_max_consistence_validator = function(schema, value, path) {\r\n        var errors = [];\r\n        if(value.type === 'integer' || value.type === 'number') {\r\n            if(typeof value.minimum !== 'undefined' && typeof value.minimum !== 'undefined' && value.minimum > value.maximum) {\r\n                errors.push({\r\n                    path: path,\r\n                    property: 'maximum',\r\n                    message: 'The maximum value must be greater than or equal than the minimum value.'\r\n                });\r\n            }\r\n        }\r\n        return errors;\r\n    };\r\n\r\n    // Recreate the JSON-Editor\r\n    this.jsonEditor = new JSONEditor(this.renderZone, {\r\n        schema: schema,\r\n        custom_validators: [ range_integer_validator, min_max_consistence_validator ]\r\n    });\r\n\r\n\r\n    // Add a save button\r\n    var filename = 'schema.json';\r\n    var saveButtonLabel = 'Save';\r\n\r\n    this.jsonEditor.on('ready', function() {\r\n        var button = this.root.getButton(saveButtonLabel, 'save', saveButtonLabel);\r\n        var button_holder = this.root.theme.getHeaderButtonHolder();\r\n        button_holder.appendChild(button);\r\n        this.root.header.parentNode.insertBefore(button_holder, this.root.header.nextSibling);\r\n\r\n        var jsonEditor = this;\r\n        button.addEventListener('click', function(e) {\r\n            e.preventDefault();\r\n            var contents = jsonEditor.getValue();\r\n            var blob = new Blob([JSON.stringify(contents, null, 2)], {\r\n                type: \"application/json;charset=utf-8\"\r\n            });\r\n\r\n            if(window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n                window.navigator.msSaveOrOpenBlob(blob, filename);\r\n            }\r\n            else {\r\n                var a = document.createElement('a');\r\n                a.download = filename;\r\n                a.href = URL.createObjectURL(blob);\r\n                a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');\r\n\r\n                a.dispatchEvent(new MouseEvent('click', {\r\n                    'view': window,\r\n                    'bubbles': true,\r\n                    'cancelable': false\r\n                }));\r\n            }\r\n        }, false);\r\n    });\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Card, CardHeader, CardBody, CardFooter } from 'reactstrap'\r\nimport { SchemaEditor } from '../../js-modules/json-schema-editor/editor'\r\nimport PropTypes from 'prop-types'\r\nimport JSONEditor from '@json-editor/json-editor'\r\n\r\nclass JsonSchemaEditor extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.schemaEditor = null\r\n    this.editorBox = React.createRef()\r\n    this.onChange = this.onChange.bind(this)\r\n    this.updateEditor = this.updateEditor.bind(this)\r\n    this.saved = \"\"\r\n    this.value = this.props.defaultValue\r\n  }\r\n\r\n  onChange(newValue, e) {\r\n    const errors = this.schemaEditor.validate()\r\n    if(errors.length) {\r\n      alert('Invalid schema')\r\n    }\r\n    else {\r\n      if(this.props.onChange) {\r\n        this.value = this.schemaEditor.jsonEditor.getValue()\r\n        this.props.onChange(this.schemaEditor.getJSON())\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.schemaEditor = new SchemaEditor('schema-editor')\r\n    this.updateEditor(this.props.schema, this.props.options, this.props.defaultValue)\r\n  }\r\n\r\n  componentWillReceiveProps({schema, options}) {\r\n    this.updateEditor(schema, options)\r\n  }\r\n\r\n  updateEditor(schema, options, setValue) {\r\n    try {\r\n      const newJson = JSON.stringify(schema)\r\n      if(newJson !== this.save || options.counter !== this.props.options.counter) {\r\n\r\n        JSONEditor.defaults.options.object_layout = options.layout\r\n        JSONEditor.defaults.options = {\r\n          ...JSONEditor.defaults.options,\r\n          ...options.booleanOptions\r\n        }\r\n\r\n        this.save = newJson\r\n        this.schemaEditor.updateSchema(schema)\r\n        this.schemaEditor.jsonEditor.setValue(this.value)\r\n        this.schemaEditor.jsonEditor.on('change', this.onChange)\r\n      }\r\n    }\r\n    catch(err) {\r\n      alert('Invalid json schema')\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          Schema Editor\r\n        </CardHeader>\r\n        <CardBody>\r\n          <div id=\"schema-editor\"/>\r\n        </CardBody>\r\n        <CardFooter>\r\n        </CardFooter>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nJsonSchemaEditor.propTypes = {\r\n  schema: PropTypes.object.isRequired,\r\n  onChange: PropTypes.func\r\n}\r\n\r\nexport default JsonSchemaEditor\r\n","import React, { Component } from 'react'\r\nimport { Card, CardHeader, CardBody, CardFooter } from 'reactstrap'\r\nimport { PreviewEditor } from '../../js-modules/json-schema-editor/editor'\r\n\r\nclass EditorPreview extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.previewBox = React.createRef()\r\n    this.editorPreview = null\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.editorPreview = new PreviewEditor('editor-preview')\r\n  }\r\n\r\n  componentWillReceiveProps({ schema }) {\r\n    this.editorPreview.destroy()\r\n    this.editorPreview.updateSchema(schema)\r\n\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          Editor Preview\r\n        </CardHeader>\r\n        <CardBody>\r\n          <div id='editor-preview' ref={this.previewBox}/>\r\n        </CardBody>\r\n        <CardFooter>\r\n          The Editor Preview will be updated as you make changes in the Schema Editor\r\n        </CardFooter>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default EditorPreview\r\n","import React, { Component } from 'react'\r\nimport ReactAce from 'react-ace-editor'\r\nimport { Card, CardHeader, CardBody, CardFooter, Button } from 'reactstrap'\r\n\r\nclass MetaSchema extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.editorBox = React.createRef()\r\n    this.onChange = this.onChange.bind(this)\r\n    this.setEditorValue = this.setEditorValue.bind(this)\r\n    this.onUpdateClick = this.onUpdateClick.bind(this)\r\n    this.saveJson = \"\"\r\n    this.state = {}\r\n  }\r\n\r\n  onChange(newValue, e) {\r\n    // const editor = this.editorBox.current.editor; // The editor object is from Ace's API\r\n    // console.log(editor.getValue()); // Outputs the value of the editor\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setEditorValue(JSON.stringify(this.props.value, null, 2))\r\n  }\r\n\r\n  componentWillRecivedProps({ value }) {\r\n    this.setEditorValue(JSON.stringify(value, null, 2))\r\n  }\r\n\r\n  setEditorValue(json) {\r\n    if(this.editorBox.current && this.saveJson !== json) {\r\n      this.saveJson = json\r\n      this.editorBox.current.editor.setValue(this.saveJson)\r\n      this.editorBox.current.editor.session.getSelection().clearSelection()\r\n      this.editorBox.current.editor.resize()\r\n    }\r\n  }\r\n\r\n  onUpdateClick() {\r\n    this.props.onSchemaSubmit(this.editorBox.current.editor.getValue())\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          Meta Schema\r\n        </CardHeader>\r\n        <CardBody style={{padding: 0}}>\r\n          <ReactAce\r\n            mode=\"json\"\r\n            theme=\"monokai\"\r\n            setReadOnly={false}\r\n            onChange={this.onChange}\r\n            style={{ height: '400px' }}\r\n            ref={this.editorBox}\r\n          />\r\n        </CardBody>\r\n        <CardFooter>\r\n          <Button onClick={this.onUpdateClick}>Update Schema Editor</Button>\r\n        </CardFooter>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default MetaSchema\r\n","export const booleanOptions = [\r\n  { value: \"required_by_default\", label: \"Object properties required by default\", selected: false },\r\n  { value: \"display_required_only\", label: \"Only show required properties by default\", selected: false },\r\n  { value: \"no_additional_properties\", label: \"No additional object properties\", selected: false },\r\n  { value: \"ajax\", label: \"Allow loading schemas via Ajax\", selected: false },\r\n  { value: \"disable_edit_json\", label: 'Disable \"Edit JSON\" buttons' },\r\n  { value: \"disable_collapse\", label: \"Disable collapse buttons\", selected: false },\r\n  { value: \"disable_properties\", label: \"Disable properties buttons\", selected: false },\r\n  { value: \"disable_array_add\", label: \"Disable array add buttons\", selected: false },\r\n  { value: \"disable_array_reorder\", label: \"Disable array move buttons\", selected: false },\r\n  { value: \"disable_array_delete\", label: \"Disable array delete buttons\", selected: false },\r\n  { value: \"enable_array_copy\", label: \"Add copy buttons to arrays\", selected: false },\r\n  { value: \"array_controls_top\", label: \"Array controls will be displayed at top of list\", selected: false },\r\n  { value: \"disable_array_delete_all_rows\", label: \"Disable array delete all rows buttons\", selected: false },\r\n  { value: \"disable_array_delete_last_row\", label: \"Disable array delete last row buttons\", selected: false }\r\n]\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Card,\r\n  CardHeader,\r\n  CardBody,\r\n  CardFooter,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Input\r\n} from 'reactstrap'\r\n\r\nimport { booleanOptions } from '../../defaults/jsonEditor'\r\n\r\n\r\nclass EditorPreview extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.onBooleanOptionsChange = this.onBooleanOptionsChange.bind(this)\r\n    this.onLayoutChange = this.onLayoutChange.bind(this)\r\n  }\r\n\r\n  onBooleanOptionsChange(e) {\r\n    let options = e.target.options;\r\n    let value = {};\r\n    for (let i = 0, l = options.length; i < l; i++) {\r\n      value[options[i].value] = options[i].selected;\r\n    }\r\n    this.props.onChange({\r\n      ...this.props,\r\n      booleanOptions: value,\r\n      counter: (this.props.options.counter || 0) + 1\r\n    })\r\n  }\r\n\r\n  onLayoutChange(e) {\r\n    this.props.onChange({\r\n      ...this.props.options,\r\n      layout: e.target.value,\r\n      counter: (this.props.options.counter || 0) + 1\r\n    })\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          Boolean options\r\n        </CardHeader>\r\n        <CardBody>\r\n          <Input\r\n            type=\"select\"\r\n            multiple size=\"11\"\r\n            defaultValue={[]}\r\n            onChange={this.onBooleanOptionsChange}\r\n          >\r\n            {booleanOptions.map((option, key) => (\r\n              <option key={key} value={option.value}>{option.label}</option>\r\n            ))}\r\n          </Input>\r\n        </CardBody>\r\n        <CardFooter>\r\n          <InputGroup>\r\n            <InputGroupAddon addonType=\"prepend\">Object layout:</InputGroupAddon>\r\n            <Input type=\"select\" value={this.props.options.layout} onChange={this.onLayoutChange}>\r\n              <option value=\"normal\">normal</option>\r\n              <option value=\"grid\">grid</option>\r\n            </Input>\r\n          </InputGroup>\r\n        </CardFooter>\r\n      </Card>\r\n    )\r\n  }\r\n}\r\n\r\nEditorPreview.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.object.isRequired\r\n}\r\n\r\n\r\nexport default EditorPreview\r\n","import React from 'react'\r\n\r\nconst DevSection = ({children}) => {\r\n  return (\r\n    <div>\r\n      {process.env.REACT_APP_ENV === \"dev\" && children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DevSection\r\n","import React, { Component } from 'react'\r\nimport { css } from 'aphrodite/no-important'\r\nimport styles from './styles'\r\nimport jsonMetaSchema from './data.json'\r\nimport { Container, Col, Row } from 'reactstrap'\r\nimport JSONEditor from '@json-editor/json-editor'\r\nimport Editor from './jsonEditor'\r\nimport Preview from './editorPreview'\r\nimport SchemaView from './metaSchema'\r\nimport Options from './options'\r\nimport DevSection from '../devSection'\r\n\r\nclass MessageTypes extends Component {\r\n\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    JSONEditor.defaults.options.iconlib = \"fontawesome5\"\r\n    JSONEditor.defaults.options.theme   = 'bootstrap4'\r\n    this.updateMetaSchema = this.updateMetaSchema.bind(this)\r\n    this.updatePreviewSchema = this.updatePreviewSchema.bind(this)\r\n    this.updateOptions = this.updateOptions.bind(this)\r\n\r\n    this.schemaEditor = null\r\n    this.editorPreview = null\r\n\r\n    this.defaultValue = {\r\n      \"type\": \"object\",\r\n      \"properties\": {\r\n        \"Date\": {\r\n          \"type\": \"string\",\r\n          \"format\": \"datetime-local\"\r\n        },\r\n        \"Status\": {\r\n          \"type\": \"string\",\r\n          \"enum\": [\r\n            \"Minor\",\r\n            \"Major\",\r\n            \"Critical\"\r\n          ]\r\n        },\r\n        \"Description\": {\r\n          \"type\": \"string\",\r\n          \"format\": \"textarea\"\r\n        }\r\n      },\r\n      \"title\": \"Machinery Failure\",\r\n      \"format\": \"grid\"\r\n    }\r\n\r\n    this.state = {\r\n      metaSchema: jsonMetaSchema,\r\n      previewSchema: null,\r\n      options: {\r\n        layout: JSONEditor.defaults.options.object_layout,\r\n        booleanOptions: {}\r\n      }\r\n    }\r\n  }\r\n\r\n  updatePreviewSchema(schema) {\r\n    console.log(\"preview update\");\r\n    this.setState({previewSchema: schema})\r\n  }\r\n\r\n  updateOptions(options) {\r\n    console.log(\"options update\");\r\n    this.setState({options: options})\r\n  }\r\n\r\n  updateMetaSchema(schema) {\r\n    console.log(\"editor update\");\r\n    this.setState({metaschema: schema})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className={css(styles.main)}>\r\n        <Container fluid>\r\n          <Row>\r\n            <Col md={6}>\r\n              <Editor\r\n                schema={this.state.metaSchema}\r\n                onChange={this.updatePreviewSchema}\r\n                options={this.state.options}\r\n                defaultValue={this.defaultValue}\r\n              />\r\n            </Col>\r\n            <Col md={6}>\r\n              <Preview schema={this.state.previewSchema}/>\r\n            </Col>\r\n          </Row>\r\n          <DevSection>\r\n            <div className={css(styles.devSection)}>\r\n              <Row>\r\n                <Col md={6}>\r\n                  <Options options={this.state.options} onChange={this.updateOptions}/>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <SchemaView value={this.state.metaSchema} onSchemaSubmit={this.updateMetaSchema}/>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </DevSection>\r\n        </Container>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MessageTypes\r\n","import React, { Component } from 'react'\r\nimport getDb from '../databases'\r\nimport { prefix, filters } from '../databases/filters'\r\nimport { views } from '../databases/views'\r\n\r\nclass CheckDb extends Component {\r\n  constructor(props, content) {\r\n    super(props, content)\r\n\r\n    this.check = this.check.bind(this)\r\n    this.messagesFiltersInitialized = false\r\n    this.messagesViewsInitialized = false\r\n    this.state = {\r\n      done: false\r\n    }\r\n  }\r\n\r\n  check() {\r\n    if(this.messagesFiltersInitialized && this.messagesViewsInitialized) {\r\n      this.setState({done: true})\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.checkMessages()\r\n  }\r\n\r\n  checkMessages() {\r\n    this.checkFilter(filters, prefix, Object.keys(filters))\r\n    this.checkView(views, Object.keys(views))\r\n  }\r\n\r\n  checkFilter(filters, prefix, filterKeys, currentKey) {\r\n\r\n    if(!currentKey) currentKey = 0\r\n    if(!filterKeys.length || filterKeys.length <= currentKey) {\r\n      this.messagesFiltersInitialized = true\r\n      this.check()\r\n      return false\r\n    }\r\n\r\n    const db = getDb(filterKeys[currentKey], false, {live: false})\r\n\r\n    const docId = '_design/' + prefix + filterKeys[currentKey]\r\n\r\n    db.get(docId).then(row => {\r\n      let equal = true\r\n      if(row.filters) {\r\n        Object.keys(filters[filterKeys[currentKey]]).forEach(key => {\r\n          if(!row.filters[key] || filters[filterKeys[currentKey]][key] !== row.filters[key])\r\n            equal = false\r\n        })\r\n      }\r\n      else equal = false\r\n\r\n      if(equal) {\r\n        this.checkFilter(filters, prefix, filterKeys, currentKey + 1)\r\n      }\r\n      else {\r\n        console.log(`Updateing Filters ${docId}`)\r\n        db.put({\r\n          ...row,\r\n          filters: filters[filterKeys[currentKey]]\r\n        }).then(() => {\r\n          console.log(`Updateing Filters ${docId} (success)`)\r\n          this.checkFilter(filters, prefix, filterKeys, currentKey + 1)\r\n        })\r\n      }\r\n    }).catch(({ status }) => {\r\n      if(status === 404) {\r\n        console.log(`Creating Filters ${docId}`)\r\n        db.put({\r\n          _id: docId,\r\n          filters: filters[filterKeys[currentKey]]\r\n        }).then(() => {\r\n          console.log(`Creating Filters ${docId} (success)`)\r\n          this.checkFilter(filters, prefix, filterKeys, currentKey + 1)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  checkView(views, viewKeys, currentKey) {\r\n    if(!currentKey) currentKey = 0\r\n    if(!viewKeys.length || viewKeys.length <= currentKey) {\r\n      this.messagesViewsInitialized = true\r\n      this.check()\r\n      return false\r\n    }\r\n\r\n    const docId = '_design/' + viewKeys[currentKey]\r\n    const db = getDb(viewKeys[currentKey], false, {live: false})\r\n\r\n    db.get(docId).then(row => {\r\n      let equal = true\r\n      if(row.views) {\r\n        Object.keys(views[viewKeys[currentKey]]).forEach(key => {\r\n          if(!row.views[key] || views[viewKeys[currentKey]][key].map !== row.views[key].map)\r\n            equal = false\r\n        })\r\n      }\r\n      else equal = false\r\n\r\n      if(equal) {\r\n        this.checkView(views, viewKeys, currentKey + 1)\r\n      }\r\n      else {\r\n        console.log(`Updateing Views ${docId}`)\r\n        db.put({\r\n          ...row,\r\n          views: views[viewKeys[currentKey]]\r\n        }).then(() => {\r\n          console.log(`Updateing Views ${docId} (success)`)\r\n          this.checkView(views, viewKeys, currentKey + 1)\r\n        })\r\n      }\r\n    }).catch(({ status }) => {\r\n      console.log(\"test\", status);\r\n      if(status === 404) {\r\n        console.log(`Creating Views ${docId}`)\r\n        db.put({\r\n          _id: docId,\r\n          views: views[viewKeys[currentKey]]\r\n        }).then(() => {\r\n          console.log(`Views Filters ${docId} (success)`)\r\n          this.checkView(views, viewKeys, currentKey + 1)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (<div>{this.state.done && this.props.children}</div>)\r\n  }\r\n}\r\n\r\nexport default CheckDb\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst PouchStore = ({ initStore, children }) => {\r\n  initStore()\r\n\r\n  return (\r\n    <div>{children}</div>\r\n  )\r\n}\r\n\r\nPouchStore.propTypes = {\r\n  initStore: PropTypes.func.isRequired,\r\n  children: PropTypes.node\r\n}\r\n\r\nexport default PouchStore\r\n","import { connect } from 'react-redux'\r\nimport PouchStore from '../components/pouchStore'\r\nimport { initPouch } from '../actions/init'\r\n\r\nconst mapStateToProps = (state) => ({\r\n\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  initStore: () => {\r\n    dispatch(initPouch())\r\n  }\r\n})\r\n\r\nconst PouchStoreContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(PouchStore)\r\n\r\nexport default PouchStoreContainer\r\n","export const INIT = \"INIT\"\r\n\r\n// use it to init pouchdbMiddleware\r\nexport const initPouch = () => {\r\n  return { type: INIT, payload: {} }\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport Homepage from './homepage'\r\nimport JsonSchemaEditor from './jsonSchemaEditor'\r\nimport CheckDb from './checkDb'\r\nimport PouchStore from '../containers/pouchStore'\r\n\r\nconst Root = ({ store }) => (\r\n  <Provider store={store}>\r\n    <PouchStore>\r\n      <CheckDb>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Homepage} />\r\n            <Route path=\"/json-schema-editor\" component={JsonSchemaEditor} />\r\n          </Switch>\r\n        </Router>\r\n      </CheckDb>\r\n    </PouchStore>\r\n  </Provider>\r\n)\r\n\r\nRoot.propTypes = {\r\n  store: PropTypes.object.isRequired\r\n}\r\n\r\nexport default Root\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { persistentReducer } from 'redux-pouchdb-rethink'\r\nimport getDb from '../databases'\r\nimport { ADD_CHAT, REMOVE_CHAT } from '../actions/chats'\r\n\r\nconst initialState = []\r\n\r\nconst chats = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_CHAT:\r\n      return [...state, action.payload.chat]\r\n    case REMOVE_CHAT:\r\n      return state.filter(chat => chat.id !== action.payload)\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst db = getDb('chats')\r\n\r\nexport default persistentReducer(chats, {db: db, name: \"chats\"})\r\n","import { getToKeys, getFromKeys } from './allowedChats'\r\n\r\nconst form = {\r\n  \"type\": \"object\",\r\n  \"format\": \"grid\",\r\n  \"required\": [\r\n    \"from\",\r\n    \"to\",\r\n    \"title\",\r\n  ],\r\n  \"properties\": {\r\n    \"from\": {\r\n      \"type\": \"string\",\r\n      \"enum\": getFromKeys()\r\n    },\r\n    \"to\": {\r\n      \"type\": \"string\",\r\n      \"enum\": getToKeys()\r\n    },\r\n    \"title\": {\r\n      \"type\": \"string\",\r\n      \"description\": \"Title for this message\"\r\n    }\r\n  }\r\n}\r\n\r\nconst properties = [\r\n  {\r\n    \"scheme\": \"height\",\r\n    \"title\": \"PersonHeight\",\r\n    \"properties\": {\r\n      \"height\": {\r\n        \"type\": \"integer\",\r\n        \"default\": 12\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"scheme\": \"weight\",\r\n    \"title\": \"PersonWeight\",\r\n    \"properties\": {\r\n      \"weight\": {\r\n        \"type\": \"integer\",\r\n        \"default\": 12\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"scheme\": \"color\",\r\n    \"title\": \"PersonColor\",\r\n    \"properties\": {\r\n      \"color\": {\r\n        \"type\": \"string\",\r\n        \"format\": \"color\"\r\n      }\r\n    }\r\n  },\r\n  {\r\n    \"scheme\": \"name\",\r\n    \"title\": \"PersonName\",\r\n    \"properties\": {\r\n      \"name\": {\r\n        \"type\": \"string\",\r\n        \"format\": \"string\",\r\n      }\r\n    }\r\n  }\r\n]\r\n\r\nconst getMessageTypes = () => {\r\n  return properties.map(prop => {\r\n    return {\r\n      ...form,\r\n      scheme: prop.scheme,\r\n      title: prop.title,\r\n      properties: {\r\n        ...form.properties,\r\n        ...prop.properties\r\n      },\r\n      required: [\r\n        ...form.required,\r\n        prop.scheme\r\n      ]\r\n    }\r\n  })\r\n}\r\n\r\nexport default getMessageTypes\r\n","import { persistentReducer } from 'redux-pouchdb-rethink'\r\nimport getMessageTypes from '../defaults/messageTypes'\r\nimport getDb from '../databases'\r\n\r\nconst initialState = getMessageTypes()\r\n\r\nconst messageTypes = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst db = getDb('message-types')\r\n\r\nexport default persistentReducer(messageTypes, {db: db, name: \"message-types\"})\r\n","import getDb from '../databases'\r\nimport { SAVE_DRAFT, PUSH_MESSAGES, REMOVE_ALL_MESSAGES, UPDATE_MESSAGES, SEND_DRAFT_MESSAGE } from '../actions/messages'\r\n\r\nexport const db = getDb('messages', true)\r\n// const dbClones = {}\r\n\r\nlet initialState = {}\r\n\r\nconst messages = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case PUSH_MESSAGES:\r\n      let messages = initAdditionalAttributes(action.payload.messages)\r\n      if(messages.length === 1)\r\n        db.put(messages[0])\r\n      else {\r\n        db.bulkDocs(messages)\r\n      }\r\n      return state\r\n    case REMOVE_ALL_MESSAGES:\r\n      db.allDocs().then(result => {\r\n        return Promise.all(result.rows.map(row => {\r\n          if(row.id.search(\"_design\") === -1) {\r\n            return db.remove(row.id, row.value.rev)\r\n          }\r\n          return false\r\n        }));\r\n      })\r\n      return {}\r\n    case UPDATE_MESSAGES:\r\n      return {\r\n        ...state,\r\n        [action.payload.chatId]: action.payload.messages\r\n      }\r\n    case SAVE_DRAFT:\r\n      let message = {\r\n        ...(initAdditionalAttributes([action.payload.message])[0]),\r\n        draft: true\r\n      }\r\n\r\n      if(action.payload.message._id)\r\n        message._id = action.payload.message._id\r\n\r\n      if(action.payload.message._rev)\r\n        message._rev = action.payload.message._rev\r\n\r\n      db.put(message)\r\n\r\n      return state\r\n    case SEND_DRAFT_MESSAGE:\r\n      db.get(action.payload.message._id).then(row => {\r\n        db.bulkDocs([\r\n          {...initAdditionalAttributes([action.payload.message])[0], _rev: \"\"},\r\n          {...row, _deleted: true}\r\n        ])\r\n      })\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst getId = (key) => {\r\n  return new Date().toISOString() + \"-\" + (key || '0')\r\n}\r\n\r\nconst initAdditionalAttributes = (messages) => {\r\n  return messages.map((message, key) => {\r\n    return {\r\n      ...message,\r\n      _id: getId(key),\r\n      draft: false\r\n    }\r\n  })\r\n}\r\n\r\nexport default messages\r\n","import { UPDATE_REWIND_POINTS } from '../actions/rewindPoints'\r\n\r\nconst initialState = {\r\n  points: [],\r\n  activeRewind: null\r\n}\r\n\r\nconst rewindPoints = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case UPDATE_REWIND_POINTS:\r\n      return {\r\n        ...state,\r\n        points: action.payload.points\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default rewindPoints\r\n","import { combineReducers } from 'redux'\r\nimport chats from './chats'\r\nimport messageTypes from './messageTypes'\r\nimport messages from './messages'\r\nimport rewindPoints from './rewindPoints'\r\n\r\nexport default combineReducers({\r\n  chats,\r\n  messageTypes,\r\n  messages,\r\n  rewindPoints\r\n})\r\n","import getDb, { dbOptions } from '../../databases'\r\n\r\nimport {\r\n  updateRewindPoints,\r\n  // createTmpPoint,\r\n  CREATE_REWIND_POINT,\r\n  // REMOVE_REWIND_POINT,\r\n  SELECT_REWIND_POINT\r\n} from '../../actions/rewindPoints'\r\n\r\nimport { INIT } from  '../../actions/init'\r\n\r\nconst rewindPoints = (store, next, action, db, messagesDb) => {\r\n  switch (action.type) {\r\n    case INIT:\r\n      init(db, store)\r\n    break\r\n    case CREATE_REWIND_POINT:\r\n      cloneDatabase(messagesDb, dbOptions.messages).then(clonedData => {\r\n        db.put({\r\n          ...initAdditionalAttributes(action.payload),\r\n          ...clonedData\r\n        }).then(point => {\r\n          updateLocalRewindPoints(db, store)\r\n        })\r\n      })\r\n    break\r\n    case SELECT_REWIND_POINT:\r\n      db.allDocs({include_docs: true}).then(({ rows }) => {\r\n        const changedDocs = rows.filter(row => (row.doc.active || row.doc._id === action.payload.id))\r\n                                .map(item => ({...item.doc, active: !item.doc.active}))\r\n\r\n        db.bulkDocs(changedDocs).then(() => {\r\n          updateLocalRewindPoints(db, store)\r\n        })\r\n      })\r\n    break\r\n    default:\r\n      return false\r\n  }\r\n  return true\r\n}\r\n\r\nconst cloneDatabase = (db, options) => {\r\n  return new Promise((resolve, reject) => {\r\n    const id = getId()\r\n    const messagesDbName = options.name + '-rewind-' + id;\r\n    const newDb = getDb(messagesDbName)\r\n\r\n    newDb.replicate.from(db, {\r\n      live: false,\r\n      retry: false,\r\n      filter: 'filtermessages/cloneFilter'\r\n    }).on('complete', done => {\r\n      console.log('success', done);\r\n      if(options.remote) {\r\n        const messagesRemoteDbName = options.remote + '-rewind-' + id\r\n        const remoteDb = getDb(messagesRemoteDbName)\r\n        remoteDb.replicate.from(newDb, {\r\n          live: false,\r\n          retry: false\r\n        }).on('complete', doneRemote => {\r\n          resolve({_id: id, local: messagesDbName, remote: true})\r\n        }).on('error', err => {\r\n          console.log(\"Error on remote database sync, created only local db\");\r\n          console.log(err)\r\n          resolve({_id: id, local: messagesDbName, remote: false})\r\n        })\r\n      }\r\n      else {\r\n        resolve({_id: id, local: messagesDbName, remote: false})\r\n      }\r\n    }).on('error', err => {\r\n      console.log(\"Error on local db clone\");\r\n      console.log(err)\r\n      reject()\r\n    })\r\n  })\r\n}\r\n\r\nconst init = (db, store) => {\r\n  updateLocalRewindPoints(db, store)\r\n}\r\n\r\nconst updateLocalRewindPoints = (db, store) => {\r\n  db.allDocs({include_docs: true}).then(({rows}) => {\r\n    console.log(rows);\r\n    store.dispatch(updateRewindPoints(rows))\r\n  })\r\n}\r\n\r\nconst getId = (key) => {\r\n  return new Date().toISOString() + \"-\" + (key || '0')\r\n}\r\n\r\nconst initAdditionalAttributes = (rewindPoint) => {\r\n  return {\r\n    ...rewindPoint,\r\n    active: false,\r\n    roomId: \"\"\r\n  }\r\n}\r\n\r\nexport default rewindPoints\r\n","import rewindPoints from './rewindPoints'\r\n// import messages from './messages'\r\nimport getDb from '../../databases'\r\n\r\n//get databases\r\nconst rewindPointsDb = getDb('rewind-points')\r\nconst messagesDb = getDb('messages', false)\r\n//watchers\r\nconst pouchdbMiddleware = store => next => action => {\r\n  if (\r\n    !rewindPoints(store, next, action, rewindPointsDb, messagesDb)\r\n  )\r\n  next(action)\r\n}\r\n\r\nexport default pouchdbMiddleware\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './components/root'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport '@json-editor/json-editor/src/styles/starrating.css'\r\nimport 'react-perfect-scrollbar/dist/css/styles.css'\r\nimport '@fortawesome/fontawesome-free/css/all.css'\r\nimport reducers from './reducers'\r\nimport { persistentStore } from 'redux-pouchdb-rethink'\r\nimport thunk from 'redux-thunk'\r\nimport { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport pouchdbSync from './middlewares/pouchdb'\r\nimport getDb from './databases'\r\n\r\nconst applyMiddlewares = applyMiddleware(\r\n  thunk, pouchdbSync\r\n)\r\nconsole.log(process.env.REACT_APP_ENV);\r\nconst db = getDb('main')\r\n\r\nconst createStoreWithMiddleware = composeWithDevTools(\r\n  applyMiddlewares,\r\n  persistentStore({db}),\r\n)(createStore)\r\n\r\nconst store = createStoreWithMiddleware(reducers)\r\n\r\nReactDOM.render(\r\n  <Root store={store}/>,\r\n  document.getElementById('root')\r\n)\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}